{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":0,"index":1823}},{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":0,"index":1823}},{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":56,"index":101}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":0,"index":1823}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":0,"index":1823}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./NativeReanimated","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":56,"index":101}}],"key":"kdXdmgB8tl1AyJBO0GP3x3y+X7Q="}},{"name":"./core","data":{"asyncType":null,"locs":[{"start":{"line":48,"column":6,"index":1437},"end":{"line":48,"column":26,"index":1457},"identifierName":"registerEventHandler"},{"start":{"line":52,"column":8,"index":1603},"end":{"line":52,"column":28,"index":1623},"identifierName":"registerEventHandler"},{"start":{"line":58,"column":39,"index":1759},"end":{"line":58,"column":61,"index":1781},"identifierName":"unregisterEventHandler"}],"key":"RjYcaDElboxfMRSohSLhnV9EO/E="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _NativeReanimated = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[3], \"./NativeReanimated\"));\n  function jsListener(eventName, handler) {\n    return function (evt) {\n      handler(Object.assign({}, evt.nativeEvent, {\n        eventName: eventName\n      }));\n    };\n  }\n  var WorkletEventHandler = function () {\n    function WorkletEventHandler(worklet) {\n      var eventNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      (0, _classCallCheck2.default)(this, WorkletEventHandler);\n      this.worklet = worklet;\n      this.eventNames = eventNames;\n      this.reattachNeeded = false;\n      this.listeners = {};\n      this.viewTag = undefined;\n      this.registrations = [];\n      if (!_NativeReanimated.default.native) {\n        this.listeners = eventNames.reduce(function (acc, eventName) {\n          acc[eventName] = jsListener(eventName, worklet);\n          return acc;\n        }, {});\n      }\n    }\n    (0, _createClass2.default)(WorkletEventHandler, [{\n      key: \"updateWorklet\",\n      value: function updateWorklet(newWorklet) {\n        this.worklet = newWorklet;\n        this.reattachNeeded = true;\n      }\n    }, {\n      key: \"registerForEvents\",\n      value: function registerForEvents(viewTag, fallbackEventName) {\n        var _this = this;\n        this.viewTag = viewTag;\n        this.registrations = this.eventNames.map(function (eventName) {\n          return (0, _$$_REQUIRE(_dependencyMap[4], \"./core\").registerEventHandler)(viewTag + eventName, _this.worklet);\n        });\n        if (this.registrations.length === 0 && fallbackEventName) {\n          this.registrations.push((0, _$$_REQUIRE(_dependencyMap[4], \"./core\").registerEventHandler)(viewTag + fallbackEventName, this.worklet));\n        }\n      }\n    }, {\n      key: \"unregisterFromEvents\",\n      value: function unregisterFromEvents() {\n        this.registrations.forEach(function (id) {\n          return (0, _$$_REQUIRE(_dependencyMap[4], \"./core\").unregisterEventHandler)(id);\n        });\n        this.registrations = [];\n      }\n    }]);\n    return WorkletEventHandler;\n  }();\n  exports.default = WorkletEventHandler;\n});","lineCount":63,"map":[[8,2,2,0],[9,2,5,0],[9,11,5,9,"jsListener"],[9,21,5,19],[9,22,6,2,"eventName"],[9,31,6,19],[9,33,7,2,"handler"],[9,40,7,29],[9,42,8,2],[10,4,9,2],[10,11,9,9],[10,21,9,10,"evt"],[10,24,9,16],[10,26,9,21],[11,6,10,4,"handler"],[11,13,10,11],[11,32,10,17,"evt"],[11,35,10,20],[11,36,10,21,"nativeEvent"],[11,47,10,32],[12,8,10,34,"eventName"],[12,17,10,43],[12,19,10,34,"eventName"],[13,6,10,43],[13,9,10,46],[14,4,11,2],[14,5,11,3],[15,2,12,0],[16,2,12,1],[16,6,14,21,"WorkletEventHandler"],[16,25,14,40],[17,4,21,2],[17,33,21,14,"worklet"],[17,40,21,41],[17,42,21,70],[18,6,21,70],[18,10,21,43,"eventNames"],[18,20,21,63],[18,91,21,66],[18,93,21,68],[19,6,21,68],[20,6,22,4],[20,10,22,8],[20,11,22,9,"worklet"],[20,18,22,16],[20,21,22,19,"worklet"],[20,28,22,26],[21,6,23,4],[21,10,23,8],[21,11,23,9,"eventNames"],[21,21,23,19],[21,24,23,22,"eventNames"],[21,34,23,32],[22,6,24,4],[22,10,24,8],[22,11,24,9,"reattachNeeded"],[22,25,24,23],[22,28,24,26],[22,33,24,31],[23,6,25,4],[23,10,25,8],[23,11,25,9,"listeners"],[23,20,25,18],[23,23,25,21],[23,24,25,22],[23,25,25,23],[24,6,26,4],[24,10,26,8],[24,11,26,9,"viewTag"],[24,18,26,16],[24,21,26,19,"undefined"],[24,30,26,28],[25,6,27,4],[25,10,27,8],[25,11,27,9,"registrations"],[25,24,27,22],[25,27,27,25],[25,29,27,27],[26,6,29,4],[26,10,29,8],[26,11,29,9,"NativeReanimatedModule"],[26,36,29,31],[26,37,29,32,"native"],[26,43,29,38],[26,45,29,40],[27,8,30,6],[27,12,30,10],[27,13,30,11,"listeners"],[27,22,30,20],[27,25,30,23,"eventNames"],[27,35,30,33],[27,36,30,34,"reduce"],[27,42,30,40],[27,43,31,8],[27,53,31,9,"acc"],[27,56,31,48],[27,58,31,50,"eventName"],[27,67,31,67],[27,69,31,72],[28,10,32,10,"acc"],[28,13,32,13],[28,14,32,14,"eventName"],[28,23,32,23],[28,24,32,24],[28,27,32,27,"jsListener"],[28,37,32,37],[28,38,32,38,"eventName"],[28,47,32,47],[28,49,32,49,"worklet"],[28,56,32,56],[28,57,32,57],[29,10,33,10],[29,17,33,17,"acc"],[29,20,33,20],[30,8,34,8],[30,9,34,9],[30,11,35,8],[30,12,35,9],[30,13,35,10],[30,14,36,7],[31,6,37,4],[32,4,38,2],[33,4,38,3],[34,6,38,3],[35,6,38,3],[35,13,40,2],[35,36,40,16,"newWorklet"],[35,46,40,46],[35,48,40,54],[36,8,41,4],[36,12,41,8],[36,13,41,9,"worklet"],[36,20,41,16],[36,23,41,19,"newWorklet"],[36,33,41,29],[37,8,42,4],[37,12,42,8],[37,13,42,9,"reattachNeeded"],[37,27,42,23],[37,30,42,26],[37,34,42,30],[38,6,43,2],[39,4,43,3],[40,6,43,3],[41,6,43,3],[41,13,45,2],[41,40,45,20,"viewTag"],[41,47,45,35],[41,49,45,37,"fallbackEventName"],[41,66,45,63],[41,68,45,71],[42,8,45,71],[43,8,46,4],[43,12,46,8],[43,13,46,9,"viewTag"],[43,20,46,16],[43,23,46,19,"viewTag"],[43,30,46,26],[44,8,47,4],[44,12,47,8],[44,13,47,9,"registrations"],[44,26,47,22],[44,29,47,25],[44,33,47,29],[44,34,47,30,"eventNames"],[44,44,47,40],[44,45,47,41,"map"],[44,48,47,44],[44,49,47,45],[44,59,47,46,"eventName"],[44,68,47,55],[45,10,47,55],[45,17,48,6],[45,21,48,6,"registerEventHandler"],[45,82,48,26],[45,84,48,27,"viewTag"],[45,91,48,34],[45,94,48,37,"eventName"],[45,103,48,46],[45,105,48,48],[45,110,48,52],[45,111,48,53,"worklet"],[45,118,48,60],[45,119,48,61],[46,8,48,61],[46,10,49,5],[47,8,50,4],[47,12,50,8],[47,16,50,12],[47,17,50,13,"registrations"],[47,30,50,26],[47,31,50,27,"length"],[47,37,50,33],[47,42,50,38],[47,43,50,39],[47,47,50,43,"fallbackEventName"],[47,64,50,60],[47,66,50,62],[48,10,51,6],[48,14,51,10],[48,15,51,11,"registrations"],[48,28,51,24],[48,29,51,25,"push"],[48,33,51,29],[48,34,52,8],[48,38,52,8,"registerEventHandler"],[48,99,52,28],[48,101,52,29,"viewTag"],[48,108,52,36],[48,111,52,39,"fallbackEventName"],[48,128,52,56],[48,130,52,58],[48,134,52,62],[48,135,52,63,"worklet"],[48,142,52,70],[48,143,52,71],[48,144,53,7],[49,8,54,4],[50,6,55,2],[51,4,55,3],[52,6,55,3],[53,6,55,3],[53,13,57,2],[53,45,57,31],[54,8,58,4],[54,12,58,8],[54,13,58,9,"registrations"],[54,26,58,22],[54,27,58,23,"forEach"],[54,34,58,30],[54,35,58,31],[54,45,58,32,"id"],[54,47,58,34],[55,10,58,34],[55,17,58,39],[55,21,58,39,"unregisterEventHandler"],[55,84,58,61],[55,86,58,62,"id"],[55,88,58,64],[55,89,58,65],[56,8,58,65],[56,10,58,66],[57,8,59,4],[57,12,59,8],[57,13,59,9,"registrations"],[57,26,59,22],[57,29,59,25],[57,31,59,27],[58,6,60,2],[59,4,60,3],[60,4,60,3],[61,2,60,3],[62,2,60,3],[63,0,60,3]],"functionMap":{"names":["<global>","jsListener","<anonymous>","WorkletEventHandler","constructor","eventNames.reduce$argument_0","updateWorklet","registerForEvents","eventNames.map$argument_0","unregisterFromEvents","registrations.forEach$argument_0"],"mappings":"AAA;ACI;SCI;GDE;CDC;eGE;ECO;QCU;SDG;GDI;EGE;GHG;EIE;6CCE;6DDC;GJO;EME;+BCC,kCD;GNE;CHC"}},"type":"js/module"}]}