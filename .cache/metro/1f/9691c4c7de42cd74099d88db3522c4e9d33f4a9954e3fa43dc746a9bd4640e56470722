{"dependencies":[{"name":"./XMLHttpRequest","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":24,"index":297},"end":{"line":13,"column":48,"index":321}},{"start":{"line":14,"column":24,"index":352},"end":{"line":14,"column":48,"index":376}},{"start":{"line":15,"column":36,"index":419},"end":{"line":15,"column":60,"index":443}},{"start":{"line":78,"column":4,"index":2010},"end":{"line":78,"column":28,"index":2034}},{"start":{"line":87,"column":4,"index":2356},"end":{"line":87,"column":28,"index":2380}},{"start":{"line":96,"column":4,"index":2749},"end":{"line":96,"column":28,"index":2773}},{"start":{"line":154,"column":4,"index":4560},"end":{"line":154,"column":28,"index":4584}},{"start":{"line":155,"column":4,"index":4613},"end":{"line":155,"column":28,"index":4637}},{"start":{"line":156,"column":4,"index":4666},"end":{"line":156,"column":28,"index":4690}}],"key":"O+JY6tQeHsIWY50GgaFx/xvik0k="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var originalXHROpen = _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.open;\n  var originalXHRSend = _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.send;\n  var originalXHRSetRequestHeader = _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.setRequestHeader;\n  var openCallback;\n  var sendCallback;\n  var requestHeaderCallback;\n  var headerReceivedCallback;\n  var responseCallback;\n  var _isInterceptorEnabled = false;\n  var XHRInterceptor = {\n    setOpenCallback: function setOpenCallback(callback) {\n      openCallback = callback;\n    },\n    setSendCallback: function setSendCallback(callback) {\n      sendCallback = callback;\n    },\n    setHeaderReceivedCallback: function setHeaderReceivedCallback(callback) {\n      headerReceivedCallback = callback;\n    },\n    setResponseCallback: function setResponseCallback(callback) {\n      responseCallback = callback;\n    },\n    setRequestHeaderCallback: function setRequestHeaderCallback(callback) {\n      requestHeaderCallback = callback;\n    },\n    isInterceptorEnabled: function isInterceptorEnabled() {\n      return _isInterceptorEnabled;\n    },\n    enableInterception: function enableInterception() {\n      if (_isInterceptorEnabled) {\n        return;\n      }\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.open = function (method, url) {\n        if (openCallback) {\n          openCallback(method, url, this);\n        }\n        originalXHROpen.apply(this, arguments);\n      };\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.setRequestHeader = function (header, value) {\n        if (requestHeaderCallback) {\n          requestHeaderCallback(header, value, this);\n        }\n        originalXHRSetRequestHeader.apply(this, arguments);\n      };\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.send = function (data) {\n        var _this = this;\n        if (sendCallback) {\n          sendCallback(data, this);\n        }\n        if (this.addEventListener) {\n          this.addEventListener('readystatechange', function () {\n            if (!_isInterceptorEnabled) {\n              return;\n            }\n            if (_this.readyState === _this.HEADERS_RECEIVED) {\n              var contentTypeString = _this.getResponseHeader('Content-Type');\n              var contentLengthString = _this.getResponseHeader('Content-Length');\n              var responseContentType, responseSize;\n              if (contentTypeString) {\n                responseContentType = contentTypeString.split(';')[0];\n              }\n              if (contentLengthString) {\n                responseSize = parseInt(contentLengthString, 10);\n              }\n              if (headerReceivedCallback) {\n                headerReceivedCallback(responseContentType, responseSize, _this.getAllResponseHeaders(), _this);\n              }\n            }\n            if (_this.readyState === _this.DONE) {\n              if (responseCallback) {\n                responseCallback(_this.status, _this.timeout, _this.response, _this.responseURL, _this.responseType, _this);\n              }\n            }\n          }, false);\n        }\n        originalXHRSend.apply(this, arguments);\n      };\n      _isInterceptorEnabled = true;\n    },\n    disableInterception: function disableInterception() {\n      if (!_isInterceptorEnabled) {\n        return;\n      }\n      _isInterceptorEnabled = false;\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.send = originalXHRSend;\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.open = originalXHROpen;\n      _$$_REQUIRE(_dependencyMap[0], \"./XMLHttpRequest\").prototype.setRequestHeader = originalXHRSetRequestHeader;\n      responseCallback = null;\n      openCallback = null;\n      sendCallback = null;\n      headerReceivedCallback = null;\n      requestHeaderCallback = null;\n    }\n  };\n  module.exports = XHRInterceptor;\n});","lineCount":99,"map":[[2,2,10,0],[2,14,10,12],[4,2,13,0],[4,6,13,6,"originalXHROpen"],[4,21,13,21],[4,24,13,24],[4,75,13,39,"prototype"],[4,84,13,48],[4,85,13,49,"open"],[4,89,13,53],[5,2,14,0],[5,6,14,6,"originalXHRSend"],[5,21,14,21],[5,24,14,24],[5,75,14,39,"prototype"],[5,84,14,48],[5,85,14,49,"send"],[5,89,14,53],[6,2,15,0],[6,6,15,6,"originalXHRSetRequestHeader"],[6,33,15,33],[6,36,15,36],[6,87,15,51,"prototype"],[6,96,15,60],[6,97,15,61,"setRequestHeader"],[6,113,15,77],[7,2,17,0],[7,6,17,4,"openCallback"],[7,18,17,16],[8,2,18,0],[8,6,18,4,"sendCallback"],[8,18,18,16],[9,2,19,0],[9,6,19,4,"requestHeaderCallback"],[9,27,19,25],[10,2,20,0],[10,6,20,4,"headerReceivedCallback"],[10,28,20,26],[11,2,21,0],[11,6,21,4,"responseCallback"],[11,22,21,20],[12,2,23,0],[12,6,23,4,"isInterceptorEnabled"],[12,27,23,24],[12,30,23,27],[12,35,23,32],[13,2,32,0],[13,6,32,6,"XHRInterceptor"],[13,20,32,20],[13,23,32,23],[14,4,36,2,"setOpenCallback"],[14,19,36,17],[14,46,36,18,"callback"],[14,54,36,26],[14,56,36,28],[15,6,37,4,"openCallback"],[15,18,37,16],[15,21,37,19,"callback"],[15,29,37,27],[16,4,38,2],[16,5,38,3],[17,4,43,2,"setSendCallback"],[17,19,43,17],[17,46,43,18,"callback"],[17,54,43,26],[17,56,43,28],[18,6,44,4,"sendCallback"],[18,18,44,16],[18,21,44,19,"callback"],[18,29,44,27],[19,4,45,2],[19,5,45,3],[20,4,50,2,"setHeaderReceivedCallback"],[20,29,50,27],[20,66,50,28,"callback"],[20,74,50,36],[20,76,50,38],[21,6,51,4,"headerReceivedCallback"],[21,28,51,26],[21,31,51,29,"callback"],[21,39,51,37],[22,4,52,2],[22,5,52,3],[23,4,57,2,"setResponseCallback"],[23,23,57,21],[23,54,57,22,"callback"],[23,62,57,30],[23,64,57,32],[24,6,58,4,"responseCallback"],[24,22,58,20],[24,25,58,23,"callback"],[24,33,58,31],[25,4,59,2],[25,5,59,3],[26,4,64,2,"setRequestHeaderCallback"],[26,28,64,26],[26,64,64,27,"callback"],[26,72,64,35],[26,74,64,37],[27,6,65,4,"requestHeaderCallback"],[27,27,65,25],[27,30,65,28,"callback"],[27,38,65,36],[28,4,66,2],[28,5,66,3],[29,4,68,2,"isInterceptorEnabled"],[29,24,68,22],[29,58,68,25],[30,6,69,4],[30,13,69,11,"isInterceptorEnabled"],[30,34,69,31],[31,4,70,2],[31,5,70,3],[32,4,72,2,"enableInterception"],[32,22,72,20],[32,54,72,23],[33,6,73,4],[33,10,73,8,"isInterceptorEnabled"],[33,31,73,28],[33,33,73,30],[34,8,74,6],[35,6,75,4],[36,6,78,4],[36,57,78,19,"prototype"],[36,66,78,28],[36,67,78,29,"open"],[36,71,78,33],[36,74,78,36],[36,84,78,46,"method"],[36,90,78,52],[36,92,78,54,"url"],[36,95,78,57],[36,97,78,59],[37,8,79,6],[37,12,79,10,"openCallback"],[37,24,79,22],[37,26,79,24],[38,10,80,8,"openCallback"],[38,22,80,20],[38,23,80,21,"method"],[38,29,80,27],[38,31,80,29,"url"],[38,34,80,32],[38,36,80,34],[38,40,80,38],[38,41,80,39],[39,8,81,6],[40,8,82,6,"originalXHROpen"],[40,23,82,21],[40,24,82,22,"apply"],[40,29,82,27],[40,30,82,28],[40,34,82,32],[40,36,82,34,"arguments"],[40,45,82,43],[40,46,82,44],[41,6,83,4],[41,7,83,5],[42,6,87,4],[42,57,87,19,"prototype"],[42,66,87,28],[42,67,87,29,"setRequestHeader"],[42,83,87,45],[42,86,87,48],[42,96,87,58,"header"],[42,102,87,64],[42,104,87,66,"value"],[42,109,87,71],[42,111,87,73],[43,8,88,6],[43,12,88,10,"requestHeaderCallback"],[43,33,88,31],[43,35,88,33],[44,10,89,8,"requestHeaderCallback"],[44,31,89,29],[44,32,89,30,"header"],[44,38,89,36],[44,40,89,38,"value"],[44,45,89,43],[44,47,89,45],[44,51,89,49],[44,52,89,50],[45,8,90,6],[46,8,91,6,"originalXHRSetRequestHeader"],[46,35,91,33],[46,36,91,34,"apply"],[46,41,91,39],[46,42,91,40],[46,46,91,44],[46,48,91,46,"arguments"],[46,57,91,55],[46,58,91,56],[47,6,92,4],[47,7,92,5],[48,6,96,4],[48,57,96,19,"prototype"],[48,66,96,28],[48,67,96,29,"send"],[48,71,96,33],[48,74,96,36],[48,84,96,46,"data"],[48,88,96,50],[48,90,96,52],[49,8,96,52],[50,8,97,6],[50,12,97,10,"sendCallback"],[50,24,97,22],[50,26,97,24],[51,10,98,8,"sendCallback"],[51,22,98,20],[51,23,98,21,"data"],[51,27,98,25],[51,29,98,27],[51,33,98,31],[51,34,98,32],[52,8,99,6],[53,8,100,6],[53,12,100,10],[53,16,100,14],[53,17,100,15,"addEventListener"],[53,33,100,31],[53,35,100,33],[54,10,101,8],[54,14,101,12],[54,15,101,13,"addEventListener"],[54,31,101,29],[54,32,102,10],[54,50,102,28],[54,52,103,10],[54,64,103,16],[55,12,104,12],[55,16,104,16],[55,17,104,17,"isInterceptorEnabled"],[55,38,104,37],[55,40,104,39],[56,14,105,14],[57,12,106,12],[58,12,107,12],[58,16,107,16],[58,21,107,20],[58,22,107,21,"readyState"],[58,32,107,31],[58,37,107,36],[58,42,107,40],[58,43,107,41,"HEADERS_RECEIVED"],[58,59,107,57],[58,61,107,59],[59,14,108,14],[59,18,108,20,"contentTypeString"],[59,35,108,37],[59,38,108,40],[59,43,108,44],[59,44,108,45,"getResponseHeader"],[59,61,108,62],[59,62,108,63],[59,76,108,77],[59,77,108,78],[60,14,109,14],[60,18,109,20,"contentLengthString"],[60,37,109,39],[60,40,110,16],[60,45,110,20],[60,46,110,21,"getResponseHeader"],[60,63,110,38],[60,64,110,39],[60,80,110,55],[60,81,110,56],[61,14,111,14],[61,18,111,18,"responseContentType"],[61,37,111,37],[61,39,111,39,"responseSize"],[61,51,111,51],[62,14,112,14],[62,18,112,18,"contentTypeString"],[62,35,112,35],[62,37,112,37],[63,16,113,16,"responseContentType"],[63,35,113,35],[63,38,113,38,"contentTypeString"],[63,55,113,55],[63,56,113,56,"split"],[63,61,113,61],[63,62,113,62],[63,65,113,65],[63,66,113,66],[63,67,113,67],[63,68,113,68],[63,69,113,69],[64,14,114,14],[65,14,115,14],[65,18,115,18,"contentLengthString"],[65,37,115,37],[65,39,115,39],[66,16,116,16,"responseSize"],[66,28,116,28],[66,31,116,31,"parseInt"],[66,39,116,39],[66,40,116,40,"contentLengthString"],[66,59,116,59],[66,61,116,61],[66,63,116,63],[66,64,116,64],[67,14,117,14],[68,14,118,14],[68,18,118,18,"headerReceivedCallback"],[68,40,118,40],[68,42,118,42],[69,16,119,16,"headerReceivedCallback"],[69,38,119,38],[69,39,120,18,"responseContentType"],[69,58,120,37],[69,60,121,18,"responseSize"],[69,72,121,30],[69,74,122,18],[69,79,122,22],[69,80,122,23,"getAllResponseHeaders"],[69,101,122,44],[69,103,122,46],[69,105,123,18],[69,110,123,22],[69,111,124,17],[70,14,125,14],[71,12,126,12],[72,12,127,12],[72,16,127,16],[72,21,127,20],[72,22,127,21,"readyState"],[72,32,127,31],[72,37,127,36],[72,42,127,40],[72,43,127,41,"DONE"],[72,47,127,45],[72,49,127,47],[73,14,128,14],[73,18,128,18,"responseCallback"],[73,34,128,34],[73,36,128,36],[74,16,129,16,"responseCallback"],[74,32,129,32],[74,33,130,18],[74,38,130,22],[74,39,130,23,"status"],[74,45,130,29],[74,47,131,18],[74,52,131,22],[74,53,131,23,"timeout"],[74,60,131,30],[74,62,132,18],[74,67,132,22],[74,68,132,23,"response"],[74,76,132,31],[74,78,133,18],[74,83,133,22],[74,84,133,23,"responseURL"],[74,95,133,34],[74,97,134,18],[74,102,134,22],[74,103,134,23,"responseType"],[74,115,134,35],[74,117,135,18],[74,122,135,22],[74,123,136,17],[75,14,137,14],[76,12,138,12],[77,10,139,10],[77,11,139,11],[77,13,140,10],[77,18,140,15],[77,19,141,9],[78,8,142,6],[79,8,143,6,"originalXHRSend"],[79,23,143,21],[79,24,143,22,"apply"],[79,29,143,27],[79,30,143,28],[79,34,143,32],[79,36,143,34,"arguments"],[79,45,143,43],[79,46,143,44],[80,6,144,4],[80,7,144,5],[81,6,145,4,"isInterceptorEnabled"],[81,27,145,24],[81,30,145,27],[81,34,145,31],[82,4,146,2],[82,5,146,3],[83,4,149,2,"disableInterception"],[83,23,149,21],[83,56,149,24],[84,6,150,4],[84,10,150,8],[84,11,150,9,"isInterceptorEnabled"],[84,32,150,29],[84,34,150,31],[85,8,151,6],[86,6,152,4],[87,6,153,4,"isInterceptorEnabled"],[87,27,153,24],[87,30,153,27],[87,35,153,32],[88,6,154,4],[88,57,154,19,"prototype"],[88,66,154,28],[88,67,154,29,"send"],[88,71,154,33],[88,74,154,36,"originalXHRSend"],[88,89,154,51],[89,6,155,4],[89,57,155,19,"prototype"],[89,66,155,28],[89,67,155,29,"open"],[89,71,155,33],[89,74,155,36,"originalXHROpen"],[89,89,155,51],[90,6,156,4],[90,57,156,19,"prototype"],[90,66,156,28],[90,67,156,29,"setRequestHeader"],[90,83,156,45],[90,86,156,48,"originalXHRSetRequestHeader"],[90,113,156,75],[91,6,157,4,"responseCallback"],[91,22,157,20],[91,25,157,23],[91,29,157,27],[92,6,158,4,"openCallback"],[92,18,158,16],[92,21,158,19],[92,25,158,23],[93,6,159,4,"sendCallback"],[93,18,159,16],[93,21,159,19],[93,25,159,23],[94,6,160,4,"headerReceivedCallback"],[94,28,160,26],[94,31,160,29],[94,35,160,33],[95,6,161,4,"requestHeaderCallback"],[95,27,161,25],[95,30,161,28],[95,34,161,32],[96,4,162,2],[97,2,163,0],[97,3,163,1],[98,2,165,0,"module"],[98,8,165,6],[98,9,165,7,"exports"],[98,16,165,14],[98,19,165,17,"XHRInterceptor"],[98,33,165,31],[99,0,165,32]],"functionMap":{"names":["<global>","setOpenCallback","setSendCallback","setHeaderReceivedCallback","setResponseCallback","setRequestHeaderCallback","isInterceptorEnabled","enableInterception","XMLHttpRequest.prototype.open","XMLHttpRequest.prototype.setRequestHeader","XMLHttpRequest.prototype.send","addEventListener$argument_1","disableInterception"],"mappings":"AAA;ECmC;GDE;EEK;GFE;EGK;GHE;EIK;GJE;EKK;GLE;EME;GNE;EOE;oCCM;KDK;gDEI;KFK;oCGI;UCO;WDoC;KHK;GPE;EYG;GZa"}},"type":"js/module"}]}