{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":142,"column":0,"index":3483}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":142,"column":0,"index":3483}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n  var _toConsumableArray2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(function () {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef(Object.create(null));\n    var create = React.useCallback(function (target) {\n      var removeListener = function removeListener(type, callback) {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        var index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      var addListener = function addListener(type, callback) {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        var removed = false;\n        return function () {\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener: addListener,\n        removeListener: removeListener\n      };\n    }, []);\n    var emit = React.useCallback(function (_ref) {\n      var _items$target, _ref2;\n      var type = _ref.type,\n        data = _ref.data,\n        target = _ref.target,\n        canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n      var callbacks = target !== undefined ? (_items$target = items[target]) == null ? void 0 : _items$target.slice() : (_ref2 = []).concat.apply(_ref2, (0, _toConsumableArray2.default)(Object.keys(items).map(function (t) {\n        return items[t];\n      }))).filter(function (cb, i, self) {\n        return self.lastIndexOf(cb) === i;\n      });\n      var event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get: function get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get: function get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get: function get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value: function value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      listenRef.current == null ? void 0 : listenRef.current(event);\n      callbacks == null ? void 0 : callbacks.forEach(function (cb) {\n        return cb(event);\n      });\n      return event;\n    }, []);\n    return React.useMemo(function () {\n      return {\n        create: create,\n        emit: emit\n      };\n    }, [create, emit]);\n  }\n});","lineCount":107,"map":[[7,2,1,0],[8,2,1,31],[9,2,1,31],[10,2,15,15],[10,11,15,24,"useEventEmitter"],[10,26,15,39],[10,27,16,2,"listen"],[10,33,16,27],[10,35,17,29],[11,4,18,2],[11,8,18,8,"listenRef"],[11,17,18,17],[11,20,18,20,"React"],[11,25,18,25],[11,26,18,26,"useRef"],[11,32,18,32],[11,33,18,33,"listen"],[11,39,18,39],[11,40,18,40],[12,4,20,2,"React"],[12,9,20,7],[12,10,20,8,"useEffect"],[12,19,20,17],[12,20,20,18],[12,32,20,24],[13,6,21,4,"listenRef"],[13,15,21,13],[13,16,21,14,"current"],[13,23,21,21],[13,26,21,24,"listen"],[13,32,21,30],[14,4,22,2],[14,5,22,3],[14,6,22,4],[15,4,24,2],[15,8,24,8,"listeners"],[15,17,24,17],[15,20,24,20,"React"],[15,25,24,25],[15,26,24,26,"useRef"],[15,32,24,32],[15,33,25,4,"Object"],[15,39,25,10],[15,40,25,11,"create"],[15,46,25,17],[15,47,25,18],[15,51,25,22],[15,52,25,23],[15,53,26,3],[16,4,28,2],[16,8,28,8,"create"],[16,14,28,14],[16,17,28,17,"React"],[16,22,28,22],[16,23,28,23,"useCallback"],[16,34,28,34],[16,35,28,35],[16,45,28,36,"target"],[16,51,28,50],[16,53,28,55],[17,6,29,4],[17,10,29,10,"removeListener"],[17,24,29,24],[17,27,29,27],[17,36,29,10,"removeListener"],[17,50,29,24],[17,51,29,28,"type"],[17,55,29,40],[17,57,29,42,"callback"],[17,65,29,71],[17,67,29,76],[18,8,30,6],[18,12,30,12,"callbacks"],[18,21,30,21],[18,24,30,24,"listeners"],[18,33,30,33],[18,34,30,34,"current"],[18,41,30,41],[18,42,30,42,"type"],[18,46,30,46],[18,47,30,47],[18,50,31,10,"listeners"],[18,59,31,19],[18,60,31,20,"current"],[18,67,31,27],[18,68,31,28,"type"],[18,72,31,32],[18,73,31,33],[18,74,31,34,"target"],[18,80,31,40],[18,81,31,41],[18,84,32,10,"undefined"],[18,93,32,19],[19,8,34,6],[19,12,34,10],[19,13,34,11,"callbacks"],[19,22,34,20],[19,24,34,22],[20,10,35,8],[21,8,36,6],[22,8,38,6],[22,12,38,12,"index"],[22,17,38,17],[22,20,38,20,"callbacks"],[22,29,38,29],[22,30,38,30,"indexOf"],[22,37,38,37],[22,38,38,38,"callback"],[22,46,38,46],[22,47,38,47],[23,8,40,6],[23,12,40,10,"index"],[23,17,40,15],[23,20,40,18],[23,21,40,19],[23,22,40,20],[23,24,40,22],[24,10,41,8,"callbacks"],[24,19,41,17],[24,20,41,18,"splice"],[24,26,41,24],[24,27,41,25,"index"],[24,32,41,30],[24,34,41,32],[24,35,41,33],[24,36,41,34],[25,8,42,6],[26,6,43,4],[26,7,43,5],[27,6,45,4],[27,10,45,10,"addListener"],[27,21,45,21],[27,24,45,24],[27,33,45,10,"addListener"],[27,44,45,21],[27,45,45,25,"type"],[27,49,45,37],[27,51,45,39,"callback"],[27,59,45,68],[27,61,45,73],[28,8,46,6,"listeners"],[28,17,46,15],[28,18,46,16,"current"],[28,25,46,23],[28,26,46,24,"type"],[28,30,46,28],[28,31,46,29],[28,34,46,32,"listeners"],[28,43,46,41],[28,44,46,42,"current"],[28,51,46,49],[28,52,46,50,"type"],[28,56,46,54],[28,57,46,55],[28,61,46,59],[28,62,46,60],[28,63,46,61],[29,8,47,6,"listeners"],[29,17,47,15],[29,18,47,16,"current"],[29,25,47,23],[29,26,47,24,"type"],[29,30,47,28],[29,31,47,29],[29,32,47,30,"target"],[29,38,47,36],[29,39,47,37],[29,42,47,40,"listeners"],[29,51,47,49],[29,52,47,50,"current"],[29,59,47,57],[29,60,47,58,"type"],[29,64,47,62],[29,65,47,63],[29,66,47,64,"target"],[29,72,47,70],[29,73,47,71],[29,77,47,75],[29,79,47,77],[30,8,48,6,"listeners"],[30,17,48,15],[30,18,48,16,"current"],[30,25,48,23],[30,26,48,24,"type"],[30,30,48,28],[30,31,48,29],[30,32,48,30,"target"],[30,38,48,36],[30,39,48,37],[30,40,48,38,"push"],[30,44,48,42],[30,45,48,43,"callback"],[30,53,48,51],[30,54,48,52],[31,8,50,6],[31,12,50,10,"removed"],[31,19,50,17],[31,22,50,20],[31,27,50,25],[32,8,51,6],[32,15,51,13],[32,27,51,19],[33,10,53,8],[33,14,53,12],[33,15,53,13,"removed"],[33,22,53,20],[33,24,53,22],[34,12,54,10,"removed"],[34,19,54,17],[34,22,54,20],[34,26,54,24],[35,12,55,10,"removeListener"],[35,26,55,24],[35,27,55,25,"type"],[35,31,55,29],[35,33,55,31,"callback"],[35,41,55,39],[35,42,55,40],[36,10,56,8],[37,8,57,6],[37,9,57,7],[38,6,58,4],[38,7,58,5],[39,6,60,4],[39,13,60,11],[40,8,61,6,"addListener"],[40,19,61,17],[40,21,61,6,"addListener"],[40,32,61,17],[41,8,62,6,"removeListener"],[41,22,62,20],[41,24,62,6,"removeListener"],[42,6,63,4],[42,7,63,5],[43,4,64,2],[43,5,64,3],[43,7,64,5],[43,9,64,7],[43,10,64,8],[44,4,66,2],[44,8,66,8,"emit"],[44,12,66,12],[44,15,66,15,"React"],[44,20,66,20],[44,21,66,21,"useCallback"],[44,32,66,32],[44,33,67,4],[44,49,77,10],[45,6,77,10],[46,6,77,10],[46,10,68,6,"type"],[46,14,68,10],[46,22,68,6,"type"],[46,26,68,10],[47,8,69,6,"data"],[47,12,69,10],[47,20,69,6,"data"],[47,24,69,10],[48,8,70,6,"target"],[48,14,70,12],[48,22,70,6,"target"],[48,28,70,12],[49,8,71,6,"canPreventDefault"],[49,25,71,23],[49,33,71,6,"canPreventDefault"],[49,50,71,23],[50,6,78,6],[50,10,78,12,"items"],[50,15,78,17],[50,18,78,20,"listeners"],[50,27,78,29],[50,28,78,30,"current"],[50,35,78,37],[50,36,78,38,"type"],[50,40,78,42],[50,41,78,43],[50,45,78,47],[50,46,78,48],[50,47,78,49],[51,6,81,6],[51,10,81,12,"callbacks"],[51,19,81,21],[51,22,82,8,"target"],[51,28,82,14],[51,33,82,19,"undefined"],[51,42,82,28],[51,62,83,12,"items"],[51,67,83,17],[51,68,83,18,"target"],[51,74,83,24],[51,75,83,25],[51,96,83,12],[51,110,83,27,"slice"],[51,115,83,32],[51,117,83,34],[51,120,84,12],[51,129,84,13],[51,131,84,15],[51,133,85,15,"concat"],[51,139,85,21],[51,186,85,25,"Object"],[51,192,85,31],[51,193,85,32,"keys"],[51,197,85,36],[51,198,85,37,"items"],[51,203,85,42],[51,204,85,43],[51,205,85,44,"map"],[51,208,85,47],[51,209,85,48],[51,219,85,49,"t"],[51,220,85,50],[52,8,85,50],[52,15,85,55,"items"],[52,20,85,60],[52,21,85,61,"t"],[52,22,85,62],[52,23,85,63],[53,6,85,63],[53,8,85,64],[53,10,85,65],[53,11,86,15,"filter"],[53,17,86,21],[53,18,86,22],[53,28,86,23,"cb"],[53,30,86,25],[53,32,86,27,"i"],[53,33,86,28],[53,35,86,30,"self"],[53,39,86,34],[54,8,86,34],[54,15,86,39,"self"],[54,19,86,43],[54,20,86,44,"lastIndexOf"],[54,31,86,55],[54,32,86,56,"cb"],[54,34,86,58],[54,35,86,59],[54,40,86,64,"i"],[54,41,86,65],[55,6,86,65],[55,8,86,66],[56,6,88,6],[56,10,88,12,"event"],[56,15,88,42],[56,18,88,45],[57,8,89,8],[57,12,89,12,"type"],[57,16,89,16],[57,19,89,19],[58,10,90,10],[58,17,90,17,"type"],[58,21,90,21],[59,8,91,8],[60,6,92,6],[60,7,92,7],[61,6,94,6],[61,10,94,10,"target"],[61,16,94,16],[61,21,94,21,"undefined"],[61,30,94,30],[61,32,94,32],[62,8,95,8,"Object"],[62,14,95,14],[62,15,95,15,"defineProperty"],[62,29,95,29],[62,30,95,30,"event"],[62,35,95,35],[62,37,95,37],[62,45,95,45],[62,47,95,47],[63,10,96,10,"enumerable"],[63,20,96,20],[63,22,96,22],[63,26,96,26],[64,10,97,10,"get"],[64,13,97,13],[64,30,97,16],[65,12,98,12],[65,19,98,19,"target"],[65,25,98,25],[66,10,99,10],[67,8,100,8],[67,9,100,9],[67,10,100,10],[68,6,101,6],[69,6,103,6],[69,10,103,10,"data"],[69,14,103,14],[69,19,103,19,"undefined"],[69,28,103,28],[69,30,103,30],[70,8,104,8,"Object"],[70,14,104,14],[70,15,104,15,"defineProperty"],[70,29,104,29],[70,30,104,30,"event"],[70,35,104,35],[70,37,104,37],[70,43,104,43],[70,45,104,45],[71,10,105,10,"enumerable"],[71,20,105,20],[71,22,105,22],[71,26,105,26],[72,10,106,10,"get"],[72,13,106,13],[72,30,106,16],[73,12,107,12],[73,19,107,19,"data"],[73,23,107,23],[74,10,108,10],[75,8,109,8],[75,9,109,9],[75,10,109,10],[76,6,110,6],[77,6,112,6],[77,10,112,10,"canPreventDefault"],[77,27,112,27],[77,29,112,29],[78,8,113,8],[78,12,113,12,"defaultPrevented"],[78,28,113,28],[78,31,113,31],[78,36,113,36],[79,8,115,8,"Object"],[79,14,115,14],[79,15,115,15,"defineProperties"],[79,31,115,31],[79,32,115,32,"event"],[79,37,115,37],[79,39,115,39],[80,10,116,10,"defaultPrevented"],[80,26,116,26],[80,28,116,28],[81,12,117,12,"enumerable"],[81,22,117,22],[81,24,117,24],[81,28,117,28],[82,12,118,12,"get"],[82,15,118,15],[82,32,118,18],[83,14,119,14],[83,21,119,21,"defaultPrevented"],[83,37,119,37],[84,12,120,12],[85,10,121,10],[85,11,121,11],[86,10,122,10,"preventDefault"],[86,24,122,24],[86,26,122,26],[87,12,123,12,"enumerable"],[87,22,123,22],[87,24,123,24],[87,28,123,28],[88,12,124,12,"value"],[88,17,124,17],[88,36,124,20],[89,14,125,14,"defaultPrevented"],[89,30,125,30],[89,33,125,33],[89,37,125,37],[90,12,126,12],[91,10,127,10],[92,8,128,8],[92,9,128,9],[92,10,128,10],[93,6,129,6],[94,6,131,6,"listenRef"],[94,15,131,15],[94,16,131,16,"current"],[94,23,131,23],[94,43,131,6,"listenRef"],[94,52,131,15],[94,53,131,16,"current"],[94,60,131,23],[94,61,131,26,"event"],[94,66,131,31],[94,67,131,32],[95,6,133,6,"callbacks"],[95,15,133,15],[95,35,133,6,"callbacks"],[95,44,133,15],[95,45,133,17,"forEach"],[95,52,133,24],[95,53,133,25],[95,63,133,26,"cb"],[95,65,133,28],[96,8,133,28],[96,15,133,33,"cb"],[96,17,133,35],[96,18,133,36,"event"],[96,23,133,41],[96,24,133,42],[97,6,133,42],[97,8,133,43],[98,6,135,6],[98,13,135,13,"event"],[98,18,135,18],[99,4,136,4],[99,5,136,5],[99,7,137,4],[99,9,137,6],[99,10,138,3],[100,4,140,2],[100,11,140,9,"React"],[100,16,140,14],[100,17,140,15,"useMemo"],[100,24,140,22],[100,25,140,23],[101,6,140,23],[101,13,140,30],[102,8,140,32,"create"],[102,14,140,38],[102,16,140,32,"create"],[102,22,140,38],[103,8,140,40,"emit"],[103,12,140,44],[103,14,140,40,"emit"],[104,6,140,45],[104,7,140,46],[105,4,140,46],[105,5,140,47],[105,7,140,49],[105,8,140,50,"create"],[105,14,140,56],[105,16,140,58,"emit"],[105,20,140,62],[105,21,140,63],[105,22,140,64],[106,2,141,0],[107,0,141,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;eCc;kBCK;GDE;mCEM;2BCC;KDc;wBEE;aCM;ODM;KFC;GFM;IMG;gDCkB,eD;sBEC,2CF;QGG;SHE;UIM;WJE;UIO;WJE;YKU;aLE;YMI;aNE;yBOO,iBP;KNG;uBcI,wBd;CDC"}},"type":"js/module"}]}