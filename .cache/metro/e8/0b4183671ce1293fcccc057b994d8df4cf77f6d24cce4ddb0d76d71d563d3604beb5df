{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":176,"column":0,"index":5080}},{"start":{"line":1,"column":0,"index":0},"end":{"line":176,"column":0,"index":5080}},{"start":{"line":10,"column":0,"index":161},"end":{"line":10,"column":66,"index":227}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":176,"column":0,"index":5080}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":176,"column":0,"index":5080}}],"key":"l9ek7s8G7hY7pJY4P1vxwsk0NPM="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":0,"index":128},"end":{"line":8,"column":31,"index":159}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":10,"column":0,"index":161},"end":{"line":10,"column":66,"index":227}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"@react-navigation/routers","data":{"asyncType":null,"locs":[{"start":{"line":75,"column":7,"index":2154},"end":{"line":75,"column":20,"index":2167},"identifierName":"CommonActions"}],"key":"vzJhU8p+EXFUpX28ANa6h4NbBWk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useNavigationCache;\n  var _defineProperty2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n  var _objectWithoutProperties2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n  var _NavigationBuilderContext = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[4], \"./NavigationBuilderContext\"));\n  var _excluded = [\"emit\"];\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n  function useNavigationCache(_ref) {\n    var state = _ref.state,\n      getState = _ref.getState,\n      navigation = _ref.navigation,\n      _setOptions = _ref.setOptions,\n      router = _ref.router,\n      emitter = _ref.emitter;\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      stackRef = _React$useContext.stackRef;\n    var cache = React.useMemo(function () {\n      return {\n        current: {}\n      };\n    }, [getState, navigation, _setOptions, router, emitter]);\n    var actions = Object.assign({}, router.actionCreators, _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/routers\").CommonActions);\n    cache.current = state.routes.reduce(function (acc, route) {\n      var previous = cache.current[route.key];\n      if (previous) {\n        acc[route.key] = previous;\n      } else {\n        var emit = navigation.emit,\n          rest = (0, _objectWithoutProperties2.default)(navigation, _excluded);\n        var _dispatch = function dispatch(thunk) {\n          var action = typeof thunk === 'function' ? thunk(getState()) : thunk;\n          if (action != null) {\n            navigation.dispatch(Object.assign({\n              source: route.key\n            }, action));\n          }\n        };\n        var withStack = function withStack(callback) {\n          var isStackSet = false;\n          try {\n            if (process.env.NODE_ENV !== 'production' && stackRef && !stackRef.current) {\n              stackRef.current = new Error().stack;\n              isStackSet = true;\n            }\n            callback();\n          } finally {\n            if (isStackSet && stackRef) {\n              stackRef.current = undefined;\n            }\n          }\n        };\n        var helpers = Object.keys(actions).reduce(function (acc, name) {\n          acc[name] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return withStack(function () {\n              return _dispatch(actions[name].apply(actions, args));\n            });\n          };\n          return acc;\n        }, {});\n        acc[route.key] = Object.assign({}, rest, helpers, emitter.create(route.key), {\n          dispatch: function dispatch(thunk) {\n            return withStack(function () {\n              return _dispatch(thunk);\n            });\n          },\n          getParent: function getParent(id) {\n            if (id !== undefined && id === rest.getId()) {\n              return acc[route.key];\n            }\n            return rest.getParent(id);\n          },\n          setOptions: function setOptions(options) {\n            return _setOptions(function (o) {\n              return Object.assign({}, o, (0, _defineProperty2.default)({}, route.key, Object.assign({}, o[route.key], options)));\n            });\n          },\n          isFocused: function isFocused() {\n            var state = getState();\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n            return navigation ? navigation.isFocused() : true;\n          }\n        });\n      }\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":98,"map":[[8,2,8,0],[9,2,10,0],[10,2,10,66],[11,2,10,66],[12,2,10,66],[13,2,50,15],[13,11,50,24,"useNavigationCache"],[13,29,50,42],[13,36,61,29],[14,4,61,29],[14,8,55,2,"state"],[14,13,55,7],[14,21,55,2,"state"],[14,26,55,7],[15,6,56,2,"getState"],[15,14,56,10],[15,22,56,2,"getState"],[15,30,56,10],[16,6,57,2,"navigation"],[16,16,57,12],[16,24,57,2,"navigation"],[16,34,57,12],[17,6,58,2,"setOptions"],[17,17,58,12],[17,25,58,2,"setOptions"],[17,35,58,12],[18,6,59,2,"router"],[18,12,59,8],[18,20,59,2,"router"],[18,26,59,8],[19,6,60,2,"emitter"],[19,13,60,9],[19,21,60,2,"emitter"],[19,28,60,9],[20,4,62,2],[20,28,62,23,"React"],[20,33,62,28],[20,34,62,29,"useContext"],[20,44,62,39],[20,45,62,40,"NavigationBuilderContext"],[20,78,62,64],[20,79,62,65],[21,6,62,10,"stackRef"],[21,14,62,18],[21,35,62,10,"stackRef"],[21,43,62,18],[22,4,67,2],[22,8,67,8,"cache"],[22,13,67,13],[22,16,67,16,"React"],[22,21,67,21],[22,22,67,22,"useMemo"],[22,29,67,29],[22,30,68,4],[23,6,68,4],[23,13,68,11],[24,8,68,13,"current"],[24,15,68,20],[24,17,68,22],[24,18,68,23],[25,6,68,76],[25,7,68,77],[26,4,68,77],[26,5,68,78],[26,7,70,4],[26,8,70,5,"getState"],[26,16,70,13],[26,18,70,15,"navigation"],[26,28,70,25],[26,30,70,27,"setOptions"],[26,41,70,37],[26,43,70,39,"router"],[26,49,70,45],[26,51,70,47,"emitter"],[26,58,70,54],[26,59,70,55],[26,60,71,3],[27,4,73,2],[27,8,73,8,"actions"],[27,15,73,15],[27,36,74,7,"router"],[27,42,74,13],[27,43,74,14,"actionCreators"],[27,57,74,28],[27,59,75,7,"CommonActions"],[27,132,75,20],[27,133,76,3],[28,4,78,2,"cache"],[28,9,78,7],[28,10,78,8,"current"],[28,17,78,15],[28,20,78,18,"state"],[28,25,78,23],[28,26,78,24,"routes"],[28,32,78,30],[28,33,78,31,"reduce"],[28,39,78,37],[28,40,80,4],[28,50,80,5,"acc"],[28,53,80,8],[28,55,80,10,"route"],[28,60,80,15],[28,62,80,20],[29,6,81,4],[29,10,81,10,"previous"],[29,18,81,18],[29,21,81,21,"cache"],[29,26,81,26],[29,27,81,27,"current"],[29,34,81,34],[29,35,81,35,"route"],[29,40,81,40],[29,41,81,41,"key"],[29,44,81,44],[29,45,81,45],[30,6,87,4],[30,10,87,8,"previous"],[30,18,87,16],[30,20,87,18],[31,8,89,6,"acc"],[31,11,89,9],[31,12,89,10,"route"],[31,17,89,15],[31,18,89,16,"key"],[31,21,89,19],[31,22,89,20],[31,25,89,23,"previous"],[31,33,89,31],[32,6,90,4],[32,7,90,5],[32,13,90,11],[33,8,92,6],[33,12,92,14,"emit"],[33,16,92,18],[33,19,92,32,"navigation"],[33,29,92,42],[33,30,92,14,"emit"],[33,34,92,18],[34,10,92,23,"rest"],[34,14,92,27],[34,56,92,32,"navigation"],[34,66,92,42],[35,8,94,6],[35,12,94,12,"dispatch"],[35,21,94,20],[35,24,94,23],[35,33,94,12,"dispatch"],[35,41,94,20],[35,42,94,24,"thunk"],[35,47,94,36],[35,49,94,41],[36,10,95,8],[36,14,95,14,"action"],[36,20,95,20],[36,23,95,23],[36,30,95,30,"thunk"],[36,35,95,35],[36,40,95,40],[36,50,95,50],[36,53,95,53,"thunk"],[36,58,95,58],[36,59,95,59,"getState"],[36,67,95,67],[36,69,95,69],[36,70,95,70],[36,73,95,73,"thunk"],[36,78,95,78],[37,10,97,8],[37,14,97,12,"action"],[37,20,97,18],[37,24,97,22],[37,28,97,26],[37,30,97,28],[38,12,98,10,"navigation"],[38,22,98,20],[38,23,98,21,"dispatch"],[38,31,98,29],[39,14,98,32,"source"],[39,20,98,38],[39,22,98,40,"route"],[39,27,98,45],[39,28,98,46,"key"],[40,12,98,49],[40,15,98,54,"action"],[40,21,98,60],[40,23,98,63],[41,10,99,8],[42,8,100,6],[42,9,100,7],[43,8,102,6],[43,12,102,12,"withStack"],[43,21,102,21],[43,24,102,24],[43,33,102,12,"withStack"],[43,42,102,21],[43,43,102,25,"callback"],[43,51,102,45],[43,53,102,50],[44,10,103,8],[44,14,103,12,"isStackSet"],[44,24,103,22],[44,27,103,25],[44,32,103,30],[45,10,105,8],[45,14,105,12],[46,12,106,10],[46,16,107,12,"process"],[46,23,107,19],[46,24,107,20,"env"],[46,27,107,23],[46,28,107,24,"NODE_ENV"],[46,36,107,32],[46,41,107,37],[46,53,107,49],[46,57,108,12,"stackRef"],[46,65,108,20],[46,69,109,12],[46,70,109,13,"stackRef"],[46,78,109,21],[46,79,109,22,"current"],[46,86,109,29],[46,88,110,12],[47,14,112,12,"stackRef"],[47,22,112,20],[47,23,112,21,"current"],[47,30,112,28],[47,33,112,31],[47,37,112,35,"Error"],[47,42,112,40],[47,44,112,42],[47,45,112,43,"stack"],[47,50,112,48],[48,14,113,12,"isStackSet"],[48,24,113,22],[48,27,113,25],[48,31,113,29],[49,12,114,10],[50,12,116,10,"callback"],[50,20,116,18],[50,22,116,20],[51,10,117,8],[51,11,117,9],[51,20,117,18],[52,12,118,10],[52,16,118,14,"isStackSet"],[52,26,118,24],[52,30,118,28,"stackRef"],[52,38,118,36],[52,40,118,38],[53,14,119,12,"stackRef"],[53,22,119,20],[53,23,119,21,"current"],[53,30,119,28],[53,33,119,31,"undefined"],[53,42,119,40],[54,12,120,10],[55,10,121,8],[56,8,122,6],[56,9,122,7],[57,8,124,6],[57,12,124,12,"helpers"],[57,19,124,19],[57,22,124,22,"Object"],[57,28,124,28],[57,29,124,29,"keys"],[57,33,124,33],[57,34,124,34,"actions"],[57,41,124,41],[57,42,124,42],[57,43,124,43,"reduce"],[57,49,124,49],[57,50,125,8],[57,60,125,9,"acc"],[57,63,125,12],[57,65,125,14,"name"],[57,69,125,18],[57,71,125,23],[58,10,126,10,"acc"],[58,13,126,13],[58,14,126,14,"name"],[58,18,126,18],[58,19,126,19],[58,22,126,22],[59,12,126,22],[59,46,126,26,"args"],[59,50,126,30],[60,14,126,26,"args"],[60,18,126,30],[61,12,126,30],[62,12,126,30],[62,19,127,12,"withStack"],[62,28,127,21],[62,29,127,22],[63,14,127,22],[63,21,129,14,"dispatch"],[63,30,129,22],[63,31,129,23,"actions"],[63,38,129,30],[63,39,129,31,"name"],[63,43,129,35],[63,44,129,36],[63,51,129,23,"actions"],[63,58,129,30],[63,60,129,40,"args"],[63,64,129,44],[63,65,129,45],[63,66,129,46],[64,12,129,46],[64,14,130,13],[65,10,130,13],[66,10,132,10],[66,17,132,17,"acc"],[66,20,132,20],[67,8,133,8],[67,9,133,9],[67,11,134,8],[67,12,134,9],[67,13,134,10],[67,14,135,7],[68,8,137,6,"acc"],[68,11,137,9],[68,12,137,10,"route"],[68,17,137,15],[68,18,137,16,"key"],[68,21,137,19],[68,22,137,20],[68,43,138,11,"rest"],[68,47,138,15],[68,49,139,11,"helpers"],[68,56,139,18],[68,58,141,12,"emitter"],[68,65,141,19],[68,66,141,20,"create"],[68,72,141,26],[68,73,141,27,"route"],[68,78,141,32],[68,79,141,33,"key"],[68,82,141,36],[68,83,141,37],[69,10,142,8,"dispatch"],[69,18,142,16],[69,20,142,18],[69,38,142,19,"thunk"],[69,43,142,31],[70,12,142,31],[70,19,142,36,"withStack"],[70,28,142,45],[70,29,142,46],[71,14,142,46],[71,21,142,52,"dispatch"],[71,30,142,60],[71,31,142,61,"thunk"],[71,36,142,66],[71,37,142,67],[72,12,142,67],[72,14,142,68],[73,10,142,68],[74,10,143,8,"getParent"],[74,19,143,17],[74,21,143,19],[74,40,143,20,"id"],[74,42,143,31],[74,44,143,36],[75,12,144,10],[75,16,144,14,"id"],[75,18,144,16],[75,23,144,21,"undefined"],[75,32,144,30],[75,36,144,34,"id"],[75,38,144,36],[75,43,144,41,"rest"],[75,47,144,45],[75,48,144,46,"getId"],[75,53,144,51],[75,55,144,53],[75,57,144,55],[76,14,147,12],[76,21,147,19,"acc"],[76,24,147,22],[76,25,147,23,"route"],[76,30,147,28],[76,31,147,29,"key"],[76,34,147,32],[76,35,147,33],[77,12,148,10],[78,12,150,10],[78,19,150,17,"rest"],[78,23,150,21],[78,24,150,22,"getParent"],[78,33,150,31],[78,34,150,32,"id"],[78,36,150,34],[78,37,150,35],[79,10,151,8],[79,11,151,9],[80,10,152,8,"setOptions"],[80,20,152,18],[80,22,152,20],[80,42,152,21,"options"],[80,49,152,36],[81,12,152,36],[81,19,153,10,"setOptions"],[81,30,153,20],[81,31,153,21],[81,41,153,22,"o"],[81,42,153,23],[82,14,153,23],[82,39,154,15,"o"],[82,40,154,16],[82,76,155,13,"route"],[82,81,155,18],[82,82,155,19,"key"],[82,85,155,22],[82,105,155,30,"o"],[82,106,155,31],[82,107,155,32,"route"],[82,112,155,37],[82,113,155,38,"key"],[82,116,155,41],[82,117,155,42],[82,119,155,47,"options"],[82,126,155,54],[83,12,155,54],[83,13,156,12],[83,14,156,13],[84,10,156,13],[85,10,157,8,"isFocused"],[85,19,157,17],[85,21,157,19],[85,42,157,25],[86,12,158,10],[86,16,158,16,"state"],[86,21,158,21],[86,24,158,24,"getState"],[86,32,158,32],[86,34,158,34],[87,12,160,10],[87,16,160,14,"state"],[87,21,160,19],[87,22,160,20,"routes"],[87,28,160,26],[87,29,160,27,"state"],[87,34,160,32],[87,35,160,33,"index"],[87,40,160,38],[87,41,160,39],[87,42,160,40,"key"],[87,45,160,43],[87,50,160,48,"route"],[87,55,160,53],[87,56,160,54,"key"],[87,59,160,57],[87,61,160,59],[88,14,161,12],[88,21,161,19],[88,26,161,24],[89,12,162,10],[90,12,166,10],[90,19,166,17,"navigation"],[90,29,166,27],[90,32,166,30,"navigation"],[90,42,166,40],[90,43,166,41,"isFocused"],[90,52,166,50],[90,54,166,52],[90,57,166,55],[90,61,166,59],[91,10,167,8],[92,8,167,9],[92,10,168,7],[93,6,169,4],[94,6,171,4],[94,13,171,11,"acc"],[94,16,171,14],[95,4,172,2],[95,5,172,3],[95,7,172,5],[95,8,172,6],[95,9,172,7],[95,10,172,8],[96,4,174,2],[96,11,174,9,"cache"],[96,16,174,14],[96,17,174,15,"current"],[96,24,174,22],[97,2,175,0],[98,0,175,1]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","withStack","Object.keys.reduce$argument_0","acc.name","withStack$argument_0","acc.route.key.dispatch","acc.route.key.getParent","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCiD;ICkB,0ED;IEY;uBCc;ODM;wBEE;OFoB;QGG;sBCC;sBCC;8CDE;aDC;SHG;kBMS,4BD,qBC,CN;mBOC;SPQ;oBQC;qBCC;YDG,CR;mBUC;SVU;GFK;CDG"}},"type":"js/module"}]}