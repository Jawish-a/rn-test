{"dependencies":[{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":0,"index":2158}},{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":0,"index":2158}}],"key":"4pxOr+e+5cSZAdeEKxSt3F7LoKY="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":0,"index":2158}}],"key":"rcd0dMwf8BS2g+8U1wyhIOxtYEo="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":0,"index":2158}}],"key":"EDnOjopp9yNVawSzfBRsy2dq5dM="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":22,"index":343},"end":{"line":17,"column":3,"index":443}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":0,"index":2158}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./mutation.js","data":{"asyncType":null,"locs":[{"start":{"line":20,"column":27,"index":506},"end":{"line":20,"column":44,"index":523}}],"key":"gDI8c4tzzYtKlXKC4dX14ljouuE="}},{"name":"./notifyManager.js","data":{"asyncType":null,"locs":[{"start":{"line":49,"column":4,"index":1149},"end":{"line":49,"column":31,"index":1176}},{"start":{"line":73,"column":4,"index":1657},"end":{"line":73,"column":31,"index":1684}},{"start":{"line":82,"column":11,"index":1903},"end":{"line":82,"column":38,"index":1930}}],"key":"dvxuN+qiE4/IwRL8dehUI3pSCR0="}},{"name":"./utils.js","data":{"asyncType":null,"locs":[{"start":{"line":65,"column":43,"index":1477},"end":{"line":65,"column":62,"index":1496}},{"start":{"line":69,"column":45,"index":1589},"end":{"line":69,"column":64,"index":1608}},{"start":{"line":82,"column":142,"index":2034},"end":{"line":82,"column":152,"index":2044}}],"key":"03VO7/E+L2S6CYQuFHTg8eKUrwk="}},{"name":"./subscribable.js","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":28,"index":293},"end":{"line":11,"column":53,"index":318}}],"key":"avEzOCPLnxe7XbJG88h2bQqtyvQ="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/possibleConstructorReturn\")(this, result); }; }\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var MutationCache = function (_subscribable$Subscri) {\n    _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/inherits\")(MutationCache, _subscribable$Subscri);\n    var _super = _createSuper(MutationCache);\n    function MutationCache(config) {\n      var _this;\n      _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\")(this, MutationCache);\n      _this = _super.call(this);\n      _this.config = config || {};\n      _this.mutations = [];\n      _this.mutationId = 0;\n      return _this;\n    }\n    _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/createClass\")(MutationCache, [{\n      key: \"build\",\n      value: function build(client, options, state) {\n        var mutation$1 = new (_$$_REQUIRE(_dependencyMap[5], \"./mutation.js\").Mutation)({\n          mutationCache: this,\n          logger: client.getLogger(),\n          mutationId: ++this.mutationId,\n          options: client.defaultMutationOptions(options),\n          state: state,\n          defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined\n        });\n        this.add(mutation$1);\n        return mutation$1;\n      }\n    }, {\n      key: \"add\",\n      value: function add(mutation) {\n        this.mutations.push(mutation);\n        this.notify({\n          type: 'added',\n          mutation: mutation\n        });\n      }\n    }, {\n      key: \"remove\",\n      value: function remove(mutation) {\n        this.mutations = this.mutations.filter(function (x) {\n          return x !== mutation;\n        });\n        this.notify({\n          type: 'removed',\n          mutation: mutation\n        });\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        var _this2 = this;\n        _$$_REQUIRE(_dependencyMap[6], \"./notifyManager.js\").notifyManager.batch(function () {\n          _this2.mutations.forEach(function (mutation) {\n            _this2.remove(mutation);\n          });\n        });\n      }\n    }, {\n      key: \"getAll\",\n      value: function getAll() {\n        return this.mutations;\n      }\n    }, {\n      key: \"find\",\n      value: function find(filters) {\n        if (typeof filters.exact === 'undefined') {\n          filters.exact = true;\n        }\n        return this.mutations.find(function (mutation) {\n          return _$$_REQUIRE(_dependencyMap[7], \"./utils.js\").matchMutation(filters, mutation);\n        });\n      }\n    }, {\n      key: \"findAll\",\n      value: function findAll(filters) {\n        return this.mutations.filter(function (mutation) {\n          return _$$_REQUIRE(_dependencyMap[7], \"./utils.js\").matchMutation(filters, mutation);\n        });\n      }\n    }, {\n      key: \"notify\",\n      value: function notify(event) {\n        var _this3 = this;\n        _$$_REQUIRE(_dependencyMap[6], \"./notifyManager.js\").notifyManager.batch(function () {\n          _this3.listeners.forEach(function (listener) {\n            listener(event);\n          });\n        });\n      }\n    }, {\n      key: \"resumePausedMutations\",\n      value: function resumePausedMutations() {\n        var pausedMutations = this.mutations.filter(function (x) {\n          return x.state.isPaused;\n        });\n        return _$$_REQUIRE(_dependencyMap[6], \"./notifyManager.js\").notifyManager.batch(function () {\n          return pausedMutations.reduce(function (promise, mutation) {\n            return promise.then(function () {\n              return mutation.continue().catch(_$$_REQUIRE(_dependencyMap[7], \"./utils.js\").noop);\n            });\n          }, Promise.resolve());\n        });\n      }\n    }]);\n    return MutationCache;\n  }(_$$_REQUIRE(_dependencyMap[8], \"./subscribable.js\").Subscribable);\n  exports.MutationCache = MutationCache;\n});","lineCount":115,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[5,2,1,13],[6,2,3,0,"Object"],[6,8,3,6],[6,9,3,7,"defineProperty"],[6,23,3,21],[6,24,3,22,"exports"],[6,31,3,29],[6,33,3,31],[6,45,3,43],[6,47,3,45],[7,4,3,47,"value"],[7,9,3,52],[7,11,3,54],[8,2,3,59],[8,3,3,60],[8,4,3,61],[9,2,3,62],[9,6,11,6,"MutationCache"],[9,19,11,19],[10,4,11,19],[11,4,11,19],[12,4,12,2],[12,27,12,14,"config"],[12,33,12,20],[12,35,12,22],[13,6,12,22],[14,6,12,22],[15,6,13,4],[16,6,14,4],[16,12,14,9,"config"],[16,18,14,15],[16,21,14,18,"config"],[16,27,14,24],[16,31,14,28],[16,32,14,29],[16,33,14,30],[17,6,15,4],[17,12,15,9,"mutations"],[17,21,15,18],[17,24,15,21],[17,26,15,23],[18,6,16,4],[18,12,16,9,"mutationId"],[18,22,16,19],[18,25,16,22],[18,26,16,23],[19,6,16,24],[20,4,17,2],[21,4,17,3],[22,6,17,3],[23,6,17,3],[23,13,19,2],[23,28,19,8,"client"],[23,34,19,14],[23,36,19,16,"options"],[23,43,19,23],[23,45,19,25,"state"],[23,50,19,30],[23,52,19,32],[24,8,20,4],[24,12,20,10,"mutation$1"],[24,22,20,20],[24,25,20,23],[24,30,20,27],[24,78,20,36,"Mutation"],[24,86,20,44],[24,88,20,45],[25,10,21,6,"mutationCache"],[25,23,21,19],[25,25,21,21],[25,29,21,25],[26,10,22,6,"logger"],[26,16,22,12],[26,18,22,14,"client"],[26,24,22,20],[26,25,22,21,"getLogger"],[26,34,22,30],[26,36,22,32],[27,10,23,6,"mutationId"],[27,20,23,16],[27,22,23,18],[27,24,23,20],[27,28,23,24],[27,29,23,25,"mutationId"],[27,39,23,35],[28,10,24,6,"options"],[28,17,24,13],[28,19,24,15,"client"],[28,25,24,21],[28,26,24,22,"defaultMutationOptions"],[28,48,24,44],[28,49,24,45,"options"],[28,56,24,52],[28,57,24,53],[29,10,25,6,"state"],[29,15,25,11],[29,17,25,6,"state"],[29,22,25,11],[30,10,26,6,"defaultOptions"],[30,24,26,20],[30,26,26,22,"options"],[30,33,26,29],[30,34,26,30,"mutationKey"],[30,45,26,41],[30,48,26,44,"client"],[30,54,26,50],[30,55,26,51,"getMutationDefaults"],[30,74,26,70],[30,75,26,71,"options"],[30,82,26,78],[30,83,26,79,"mutationKey"],[30,94,26,90],[30,95,26,91],[30,98,26,94,"undefined"],[31,8,27,4],[31,9,27,5],[31,10,27,6],[32,8,28,4],[32,12,28,8],[32,13,28,9,"add"],[32,16,28,12],[32,17,28,13,"mutation$1"],[32,27,28,23],[32,28,28,24],[33,8,29,4],[33,15,29,11,"mutation$1"],[33,25,29,21],[34,6,30,2],[35,4,30,3],[36,6,30,3],[37,6,30,3],[37,13,32,2],[37,26,32,6,"mutation"],[37,34,32,14],[37,36,32,16],[38,8,33,4],[38,12,33,8],[38,13,33,9,"mutations"],[38,22,33,18],[38,23,33,19,"push"],[38,27,33,23],[38,28,33,24,"mutation"],[38,36,33,32],[38,37,33,33],[39,8,34,4],[39,12,34,8],[39,13,34,9,"notify"],[39,19,34,15],[39,20,34,16],[40,10,35,6,"type"],[40,14,35,10],[40,16,35,12],[40,23,35,19],[41,10,36,6,"mutation"],[41,18,36,14],[41,20,36,6,"mutation"],[42,8,37,4],[42,9,37,5],[42,10,37,6],[43,6,38,2],[44,4,38,3],[45,6,38,3],[46,6,38,3],[46,13,40,2],[46,29,40,9,"mutation"],[46,37,40,17],[46,39,40,19],[47,8,41,4],[47,12,41,8],[47,13,41,9,"mutations"],[47,22,41,18],[47,25,41,21],[47,29,41,25],[47,30,41,26,"mutations"],[47,39,41,35],[47,40,41,36,"filter"],[47,46,41,42],[47,47,41,43],[47,57,41,43,"x"],[47,58,41,44],[48,10,41,44],[48,17,41,48,"x"],[48,18,41,49],[48,23,41,54,"mutation"],[48,31,41,62],[49,8,41,62],[49,10,41,63],[50,8,42,4],[50,12,42,8],[50,13,42,9,"notify"],[50,19,42,15],[50,20,42,16],[51,10,43,6,"type"],[51,14,43,10],[51,16,43,12],[51,25,43,21],[52,10,44,6,"mutation"],[52,18,44,14],[52,20,44,6,"mutation"],[53,8,45,4],[53,9,45,5],[53,10,45,6],[54,6,46,2],[55,4,46,3],[56,6,46,3],[57,6,46,3],[57,13,48,2],[57,30,48,10],[58,8,48,10],[59,8,49,4],[59,61,49,18,"notifyManager"],[59,74,49,31],[59,75,49,32,"batch"],[59,80,49,37],[59,81,49,38],[59,93,49,44],[60,10,50,6],[60,16,50,10],[60,17,50,11,"mutations"],[60,26,50,20],[60,27,50,21,"forEach"],[60,34,50,28],[60,35,50,29],[60,45,50,29,"mutation"],[60,53,50,37],[60,55,50,41],[61,12,51,8],[61,18,51,12],[61,19,51,13,"remove"],[61,25,51,19],[61,26,51,20,"mutation"],[61,34,51,28],[61,35,51,29],[62,10,52,6],[62,11,52,7],[62,12,52,8],[63,8,53,4],[63,9,53,5],[63,10,53,6],[64,6,54,2],[65,4,54,3],[66,6,54,3],[67,6,54,3],[67,13,56,2],[67,31,56,11],[68,8,57,4],[68,15,57,11],[68,19,57,15],[68,20,57,16,"mutations"],[68,29,57,25],[69,6,58,2],[70,4,58,3],[71,6,58,3],[72,6,58,3],[72,13,60,2],[72,27,60,7,"filters"],[72,34,60,14],[72,36,60,16],[73,8,61,4],[73,12,61,8],[73,19,61,15,"filters"],[73,26,61,22],[73,27,61,23,"exact"],[73,32,61,28],[73,37,61,33],[73,48,61,44],[73,50,61,46],[74,10,62,6,"filters"],[74,17,62,13],[74,18,62,14,"exact"],[74,23,62,19],[74,26,62,22],[74,30,62,26],[75,8,63,4],[76,8,65,4],[76,15,65,11],[76,19,65,15],[76,20,65,16,"mutations"],[76,29,65,25],[76,30,65,26,"find"],[76,34,65,30],[76,35,65,31],[76,45,65,31,"mutation"],[76,53,65,39],[77,10,65,39],[77,17,65,43],[77,62,65,49,"matchMutation"],[77,75,65,62],[77,76,65,63,"filters"],[77,83,65,70],[77,85,65,72,"mutation"],[77,93,65,80],[77,94,65,81],[78,8,65,81],[78,10,65,82],[79,6,66,2],[80,4,66,3],[81,6,66,3],[82,6,66,3],[82,13,68,2],[82,30,68,10,"filters"],[82,37,68,17],[82,39,68,19],[83,8,69,4],[83,15,69,11],[83,19,69,15],[83,20,69,16,"mutations"],[83,29,69,25],[83,30,69,26,"filter"],[83,36,69,32],[83,37,69,33],[83,47,69,33,"mutation"],[83,55,69,41],[84,10,69,41],[84,17,69,45],[84,62,69,51,"matchMutation"],[84,75,69,64],[84,76,69,65,"filters"],[84,83,69,72],[84,85,69,74,"mutation"],[84,93,69,82],[84,94,69,83],[85,8,69,83],[85,10,69,84],[86,6,70,2],[87,4,70,3],[88,6,70,3],[89,6,70,3],[89,13,72,2],[89,29,72,9,"event"],[89,34,72,14],[89,36,72,16],[90,8,72,16],[91,8,73,4],[91,61,73,18,"notifyManager"],[91,74,73,31],[91,75,73,32,"batch"],[91,80,73,37],[91,81,73,38],[91,93,73,44],[92,10,74,6],[92,16,74,10],[92,17,74,11,"listeners"],[92,26,74,20],[92,27,74,21,"forEach"],[92,34,74,28],[92,35,74,29],[92,45,74,29,"listener"],[92,53,74,37],[92,55,74,41],[93,12,75,8,"listener"],[93,20,75,16],[93,21,75,17,"event"],[93,26,75,22],[93,27,75,23],[94,10,76,6],[94,11,76,7],[94,12,76,8],[95,8,77,4],[95,9,77,5],[95,10,77,6],[96,6,78,2],[97,4,78,3],[98,6,78,3],[99,6,78,3],[99,13,80,2],[99,46,80,26],[100,8,81,4],[100,12,81,10,"pausedMutations"],[100,27,81,25],[100,30,81,28],[100,34,81,32],[100,35,81,33,"mutations"],[100,44,81,42],[100,45,81,43,"filter"],[100,51,81,49],[100,52,81,50],[100,62,81,50,"x"],[100,63,81,51],[101,10,81,51],[101,17,81,55,"x"],[101,18,81,56],[101,19,81,57,"state"],[101,24,81,62],[101,25,81,63,"isPaused"],[101,33,81,71],[102,8,81,71],[102,10,81,72],[103,8,82,4],[103,15,82,11],[103,68,82,25,"notifyManager"],[103,81,82,38],[103,82,82,39,"batch"],[103,87,82,44],[103,88,82,45],[104,10,82,45],[104,17,82,51,"pausedMutations"],[104,32,82,66],[104,33,82,67,"reduce"],[104,39,82,73],[104,40,82,74],[104,50,82,75,"promise"],[104,57,82,82],[104,59,82,84,"mutation"],[104,67,82,92],[105,12,82,92],[105,19,82,97,"promise"],[105,26,82,104],[105,27,82,105,"then"],[105,31,82,109],[105,32,82,110],[106,14,82,110],[106,21,82,116,"mutation"],[106,29,82,124],[106,30,82,125,"continue"],[106,38,82,133],[106,40,82,135],[106,41,82,136,"catch"],[106,46,82,141],[106,47,82,142],[106,92,82,148,"noop"],[106,96,82,152],[106,97,82,153],[107,12,82,153],[107,14,82,154],[108,10,82,154],[108,13,82,156,"Promise"],[108,20,82,163],[108,21,82,164,"resolve"],[108,28,82,171],[108,30,82,173],[108,31,82,174],[109,8,82,174],[109,10,82,175],[110,6,83,2],[111,4,83,3],[112,4,83,3],[113,2,83,3],[113,4,11,28],[113,56,11,41,"Subscribable"],[113,68,11,53],[114,2,87,0,"exports"],[114,9,87,7],[114,10,87,8,"MutationCache"],[114,23,87,21],[114,26,87,24,"MutationCache"],[114,39,87,37],[115,0,87,38]],"functionMap":{"names":["<global>","MutationCache","MutationCache#constructor","MutationCache#build","MutationCache#add","MutationCache#remove","mutations.filter$argument_0","MutationCache#clear","notifyManager.notifyManager.batch$argument_0","mutations.forEach$argument_0","MutationCache#getAll","MutationCache#find","mutations.find$argument_0","MutationCache#findAll","MutationCache#notify","listeners.forEach$argument_0","MutationCache#resumePausedMutations","pausedMutations.reduce$argument_0","promise.then$argument_0"],"mappings":"AAA;ACU;ECC;GDK;EEE;GFW;EGE;GHM;EIE;2CCC,mBD;GJK;EME;sCCC;6BCC;ODE;KDC;GNC;ESE;GTE;EUE;+BCK,kDD;GVC;EYE;iCPC,kDO;GZC;EaE;sCNC;6BOC;OPE;KMC;GbC;EeE;kDVC,qBU;6CRC,6BS,oCC,2CD,CT,oBQ;GfC;CDE"}},"type":"js/module"}]}