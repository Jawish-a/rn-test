{"dependencies":[{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[0], \"react\"));\n  var _NavigationContext = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"./NavigationContext\"));\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":59,"map":[[6,2,2,0],[7,2,4,0],[8,2,4,52],[9,2,4,52],[10,2,16,15],[10,11,16,24,"useFocusEvents"],[10,25,16,38],[10,32,19,19],[11,4,19,19],[11,8,17,2,"state"],[11,13,17,7],[11,21,17,2,"state"],[11,26,17,7],[12,6,18,2,"emitter"],[12,13,18,9],[12,21,18,2,"emitter"],[12,28,18,9],[13,4,20,2],[13,8,20,8,"navigation"],[13,18,20,18],[13,21,20,21,"React"],[13,26,20,26],[13,27,20,27,"useContext"],[13,37,20,37],[13,38,20,38,"NavigationContext"],[13,64,20,55],[13,65,20,56],[14,4,21,2],[14,8,21,8,"lastFocusedKeyRef"],[14,25,21,25],[14,28,21,28,"React"],[14,33,21,33],[14,34,21,34,"useRef"],[14,40,21,40],[14,42,21,62],[15,4,23,2],[15,8,23,8,"currentFocusedKey"],[15,25,23,25],[15,28,23,28,"state"],[15,33,23,33],[15,34,23,34,"routes"],[15,40,23,40],[15,41,23,41,"state"],[15,46,23,46],[15,47,23,47,"index"],[15,52,23,52],[15,53,23,53],[15,54,23,54,"key"],[15,57,23,57],[16,4,27,2,"React"],[16,9,27,7],[16,10,27,8,"useEffect"],[16,19,27,17],[16,20,28,4],[17,6,28,4],[17,13,29,6,"navigation"],[17,23,29,16],[17,43,29,6,"navigation"],[17,53,29,16],[17,54,29,18,"addListener"],[17,65,29,29],[17,66,29,30],[17,73,29,37],[17,75,29,39],[17,87,29,45],[18,8,30,8,"lastFocusedKeyRef"],[18,25,30,25],[18,26,30,26,"current"],[18,33,30,33],[18,36,30,36,"currentFocusedKey"],[18,53,30,53],[19,8,31,8,"emitter"],[19,15,31,15],[19,16,31,16,"emit"],[19,20,31,20],[19,21,31,21],[20,10,31,23,"type"],[20,14,31,27],[20,16,31,29],[20,23,31,36],[21,10,31,38,"target"],[21,16,31,44],[21,18,31,46,"currentFocusedKey"],[22,8,31,64],[22,9,31,65],[22,10,31,66],[23,6,32,6],[23,7,32,7],[23,8,32,8],[24,4,32,8],[24,7,33,4],[24,8,33,5,"currentFocusedKey"],[24,25,33,22],[24,27,33,24,"emitter"],[24,34,33,31],[24,36,33,33,"navigation"],[24,46,33,43],[24,47,33,44],[24,48,34,3],[25,4,36,2,"React"],[25,9,36,7],[25,10,36,8,"useEffect"],[25,19,36,17],[25,20,37,4],[26,6,37,4],[26,13,38,6,"navigation"],[26,23,38,16],[26,43,38,6,"navigation"],[26,53,38,16],[26,54,38,18,"addListener"],[26,65,38,29],[26,66,38,30],[26,72,38,36],[26,74,38,38],[26,86,38,44],[27,8,39,8,"lastFocusedKeyRef"],[27,25,39,25],[27,26,39,26,"current"],[27,33,39,33],[27,36,39,36,"undefined"],[27,45,39,45],[28,8,40,8,"emitter"],[28,15,40,15],[28,16,40,16,"emit"],[28,20,40,20],[28,21,40,21],[29,10,40,23,"type"],[29,14,40,27],[29,16,40,29],[29,22,40,35],[30,10,40,37,"target"],[30,16,40,43],[30,18,40,45,"currentFocusedKey"],[31,8,40,63],[31,9,40,64],[31,10,40,65],[32,6,41,6],[32,7,41,7],[32,8,41,8],[33,4,41,8],[33,7,42,4],[33,8,42,5,"currentFocusedKey"],[33,25,42,22],[33,27,42,24,"emitter"],[33,34,42,31],[33,36,42,33,"navigation"],[33,46,42,43],[33,47,42,44],[33,48,43,3],[34,4,45,2,"React"],[34,9,45,7],[34,10,45,8,"useEffect"],[34,19,45,17],[34,20,45,18],[34,32,45,24],[35,6,46,4],[35,10,46,10,"lastFocusedKey"],[35,24,46,24],[35,27,46,27,"lastFocusedKeyRef"],[35,44,46,44],[35,45,46,45,"current"],[35,52,46,52],[36,6,48,4,"lastFocusedKeyRef"],[36,23,48,21],[36,24,48,22,"current"],[36,31,48,29],[36,34,48,32,"currentFocusedKey"],[36,51,48,49],[37,6,52,4],[37,10,52,8,"lastFocusedKey"],[37,24,52,22],[37,29,52,27,"undefined"],[37,38,52,36],[37,42,52,40],[37,43,52,41,"navigation"],[37,53,52,51],[37,55,52,53],[38,8,53,6,"emitter"],[38,15,53,13],[38,16,53,14,"emit"],[38,20,53,18],[38,21,53,19],[39,10,53,21,"type"],[39,14,53,25],[39,16,53,27],[39,23,53,34],[40,10,53,36,"target"],[40,16,53,42],[40,18,53,44,"currentFocusedKey"],[41,8,53,62],[41,9,53,63],[41,10,53,64],[42,6,54,4],[43,6,58,4],[43,10,59,6,"lastFocusedKey"],[43,24,59,20],[43,29,59,25,"currentFocusedKey"],[43,46,59,42],[43,50,60,6],[43,52,60,8,"navigation"],[43,62,60,18],[43,65,60,21,"navigation"],[43,75,60,31],[43,76,60,32,"isFocused"],[43,85,60,41],[43,87,60,43],[43,90,60,46],[43,94,60,50],[43,95,60,51],[43,97,61,6],[44,8,62,6],[45,6,63,4],[46,6,65,4],[46,10,65,8,"lastFocusedKey"],[46,24,65,22],[46,29,65,27,"undefined"],[46,38,65,36],[46,40,65,38],[47,8,67,6],[48,6,68,4],[49,6,70,4,"emitter"],[49,13,70,11],[49,14,70,12,"emit"],[49,18,70,16],[49,19,70,17],[50,8,70,19,"type"],[50,12,70,23],[50,14,70,25],[50,20,70,31],[51,8,70,33,"target"],[51,14,70,39],[51,16,70,41,"lastFocusedKey"],[52,6,70,56],[52,7,70,57],[52,8,70,58],[53,6,71,4,"emitter"],[53,13,71,11],[53,14,71,12,"emit"],[53,18,71,16],[53,19,71,17],[54,8,71,19,"type"],[54,12,71,23],[54,14,71,25],[54,21,71,32],[55,8,71,34,"target"],[55,14,71,40],[55,16,71,42,"currentFocusedKey"],[56,6,71,60],[56,7,71,61],[56,8,71,62],[57,4,72,2],[57,5,72,3],[57,7,72,5],[57,8,72,6,"currentFocusedKey"],[57,25,72,23],[57,27,72,25,"emitter"],[57,34,72,32],[57,36,72,34,"navigation"],[57,46,72,44],[57,47,72,45],[57,48,72,46],[58,2,73,0],[59,0,73,1]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;ICY;uCCC;ODG,CD;ICK;sCCC;ODG,CD;kBCI;GD2B;CDC"}},"type":"js/module"}]}