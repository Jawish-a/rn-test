{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":215},"end":{"line":11,"column":74,"index":289}},{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":60,"index":350}},{"start":{"line":13,"column":0,"index":351},"end":{"line":13,"column":34,"index":385}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":215},"end":{"line":11,"column":74,"index":289}}],"key":"8/8s2qHajvAK0ZSPYhrCXcF24uY="}},{"name":"./NativeSettingsManager","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":60,"index":350}}],"key":"oaf9/XJkyzxCya3/pbdF5SG3klI="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":0,"index":351},"end":{"line":13,"column":34,"index":385}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _RCTDeviceEventEmitter = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"../EventEmitter/RCTDeviceEventEmitter\"));\n  var _NativeSettingsManager = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"./NativeSettingsManager\"));\n  var _invariant = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[3], \"invariant\"));\n  var subscriptions = [];\n  var Settings = {\n    _settings: _NativeSettingsManager.default && _NativeSettingsManager.default.getConstants().settings,\n    get: function get(key) {\n      return this._settings[key];\n    },\n    set: function set(settings) {\n      this._settings = Object.assign(this._settings, settings);\n      _NativeSettingsManager.default.setValues(settings);\n    },\n    watchKeys: function watchKeys(keys, callback) {\n      if (typeof keys === 'string') {\n        keys = [keys];\n      }\n      (0, _invariant.default)(Array.isArray(keys), 'keys should be a string or array of strings');\n      var sid = subscriptions.length;\n      subscriptions.push({\n        keys: keys,\n        callback: callback\n      });\n      return sid;\n    },\n    clearWatch: function clearWatch(watchId) {\n      if (watchId < subscriptions.length) {\n        subscriptions[watchId] = {\n          keys: [],\n          callback: null\n        };\n      }\n    },\n    _sendObservations: function _sendObservations(body) {\n      var _this = this;\n      Object.keys(body).forEach(function (key) {\n        var newValue = body[key];\n        var didChange = _this._settings[key] !== newValue;\n        _this._settings[key] = newValue;\n        if (didChange) {\n          subscriptions.forEach(function (sub) {\n            if (sub.keys.indexOf(key) !== -1 && sub.callback) {\n              sub.callback();\n            }\n          });\n        }\n      });\n    }\n  };\n  _RCTDeviceEventEmitter.default.addListener('settingsUpdated', Settings._sendObservations.bind(Settings));\n  module.exports = Settings;\n});","lineCount":53,"map":[[2,2,11,0],[3,2,12,0],[4,2,13,0],[5,2,15,0],[5,6,15,6,"subscriptions"],[5,19,19,2],[5,22,19,5],[5,24,19,7],[6,2,21,0],[6,6,21,6,"Settings"],[6,14,21,14],[6,17,21,17],[7,4,22,2,"_settings"],[7,13,22,11],[7,15,22,14,"NativeSettingsManager"],[7,45,22,35],[7,49,23,4,"NativeSettingsManager"],[7,79,23,25],[7,80,23,26,"getConstants"],[7,92,23,38],[7,94,23,40],[7,95,23,41,"settings"],[7,103,23,55],[8,4,25,2,"get"],[8,7,25,5],[8,22,25,6,"key"],[8,25,25,17],[8,27,25,26],[9,6,27,4],[9,13,27,11],[9,17,27,15],[9,18,27,16,"_settings"],[9,27,27,25],[9,28,27,26,"key"],[9,31,27,29],[9,32,27,30],[10,4,28,2],[10,5,28,3],[11,4,30,2,"set"],[11,7,30,5],[11,22,30,6,"settings"],[11,30,30,22],[11,32,30,24],[12,6,32,4],[12,10,32,8],[12,11,32,9,"_settings"],[12,20,32,18],[12,23,32,21,"Object"],[12,29,32,27],[12,30,32,28,"assign"],[12,36,32,34],[12,37,32,35],[12,41,32,39],[12,42,32,40,"_settings"],[12,51,32,49],[12,53,32,51,"settings"],[12,61,32,59],[12,62,32,60],[13,6,33,4,"NativeSettingsManager"],[13,36,33,25],[13,37,33,26,"setValues"],[13,46,33,35],[13,47,33,36,"settings"],[13,55,33,44],[13,56,33,45],[14,4,34,2],[14,5,34,3],[15,4,36,2,"watchKeys"],[15,13,36,11],[15,34,36,12,"keys"],[15,38,36,40],[15,40,36,42,"callback"],[15,48,36,60],[15,50,36,70],[16,6,37,4],[16,10,37,8],[16,17,37,15,"keys"],[16,21,37,19],[16,26,37,24],[16,34,37,32],[16,36,37,34],[17,8,38,6,"keys"],[17,12,38,10],[17,15,38,13],[17,16,38,14,"keys"],[17,20,38,18],[17,21,38,19],[18,6,39,4],[19,6,41,4],[19,10,41,4,"invariant"],[19,28,41,13],[19,30,42,6,"Array"],[19,35,42,11],[19,36,42,12,"isArray"],[19,43,42,19],[19,44,42,20,"keys"],[19,48,42,24],[19,49,42,25],[19,51,43,6],[19,96,43,51],[19,97,44,5],[20,6,46,4],[20,10,46,10,"sid"],[20,13,46,13],[20,16,46,16,"subscriptions"],[20,29,46,29],[20,30,46,30,"length"],[20,36,46,36],[21,6,47,4,"subscriptions"],[21,19,47,17],[21,20,47,18,"push"],[21,24,47,22],[21,25,47,23],[22,8,47,24,"keys"],[22,12,47,28],[22,14,47,30,"keys"],[22,18,47,34],[23,8,47,36,"callback"],[23,16,47,44],[23,18,47,46,"callback"],[24,6,47,54],[24,7,47,55],[24,8,47,56],[25,6,48,4],[25,13,48,11,"sid"],[25,16,48,14],[26,4,49,2],[26,5,49,3],[27,4,51,2,"clearWatch"],[27,14,51,12],[27,36,51,13,"watchId"],[27,43,51,28],[27,45,51,30],[28,6,52,4],[28,10,52,8,"watchId"],[28,17,52,15],[28,20,52,18,"subscriptions"],[28,33,52,31],[28,34,52,32,"length"],[28,40,52,38],[28,42,52,40],[29,8,53,6,"subscriptions"],[29,21,53,19],[29,22,53,20,"watchId"],[29,29,53,27],[29,30,53,28],[29,33,53,31],[30,10,53,32,"keys"],[30,14,53,36],[30,16,53,38],[30,18,53,40],[31,10,53,42,"callback"],[31,18,53,50],[31,20,53,52],[32,8,53,56],[32,9,53,57],[33,6,54,4],[34,4,55,2],[34,5,55,3],[35,4,57,2,"_sendObservations"],[35,21,57,19],[35,50,57,20,"body"],[35,54,57,32],[35,56,57,34],[36,6,57,34],[37,6,58,4,"Object"],[37,12,58,10],[37,13,58,11,"keys"],[37,17,58,15],[37,18,58,16,"body"],[37,22,58,20],[37,23,58,21],[37,24,58,22,"forEach"],[37,31,58,29],[37,32,58,30],[37,42,58,30,"key"],[37,45,58,33],[37,47,58,37],[38,8,59,6],[38,12,59,12,"newValue"],[38,20,59,20],[38,23,59,23,"body"],[38,27,59,27],[38,28,59,28,"key"],[38,31,59,31],[38,32,59,32],[39,8,61,6],[39,12,61,12,"didChange"],[39,21,61,21],[39,24,61,24],[39,29,61,28],[39,30,61,29,"_settings"],[39,39,61,38],[39,40,61,39,"key"],[39,43,61,42],[39,44,61,43],[39,49,61,48,"newValue"],[39,57,61,56],[40,8,63,6],[40,13,63,10],[40,14,63,11,"_settings"],[40,23,63,20],[40,24,63,21,"key"],[40,27,63,24],[40,28,63,25],[40,31,63,28,"newValue"],[40,39,63,36],[41,8,65,6],[41,12,65,10,"didChange"],[41,21,65,19],[41,23,65,21],[42,10,66,8,"subscriptions"],[42,23,66,21],[42,24,66,22,"forEach"],[42,31,66,29],[42,32,66,30],[42,42,66,30,"sub"],[42,45,66,33],[42,47,66,37],[43,12,67,10],[43,16,67,14,"sub"],[43,19,67,17],[43,20,67,18,"keys"],[43,24,67,22],[43,25,67,23,"indexOf"],[43,32,67,30],[43,33,67,31,"key"],[43,36,67,34],[43,37,67,35],[43,42,67,40],[43,43,67,41],[43,44,67,42],[43,48,67,46,"sub"],[43,51,67,49],[43,52,67,50,"callback"],[43,60,67,58],[43,62,67,60],[44,14,68,12,"sub"],[44,17,68,15],[44,18,68,16,"callback"],[44,26,68,24],[44,28,68,26],[45,12,69,10],[46,10,70,8],[46,11,70,9],[46,12,70,10],[47,8,71,6],[48,6,72,4],[48,7,72,5],[48,8,72,6],[49,4,73,2],[50,2,74,0],[50,3,74,1],[51,2,76,0,"RCTDeviceEventEmitter"],[51,32,76,21],[51,33,76,22,"addListener"],[51,44,76,33],[51,45,77,2],[51,62,77,19],[51,64,78,2,"Settings"],[51,72,78,10],[51,73,78,11,"_sendObservations"],[51,90,78,28],[51,91,78,29,"bind"],[51,95,78,33],[51,96,78,34,"Settings"],[51,104,78,42],[51,105,78,43],[51,106,79,1],[52,2,81,0,"module"],[52,8,81,6],[52,9,81,7,"exports"],[52,16,81,14],[52,19,81,17,"Settings"],[52,27,81,25],[53,0,81,26]],"functionMap":{"names":["<global>","get","set","watchKeys","clearWatch","_sendObservations","Object.keys.forEach$argument_0","subscriptions.forEach$argument_0"],"mappings":"AAA;ECwB;GDG;EEE;GFI;EGE;GHa;EIE;GJI;EKE;8BCC;8BCQ;SDI;KDE;GLC"}},"type":"js/module"}]}