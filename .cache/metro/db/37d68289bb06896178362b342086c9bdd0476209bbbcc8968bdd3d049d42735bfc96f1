{"dependencies":[{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":94,"column":0,"index":2245}},{"start":{"line":1,"column":0,"index":0},"end":{"line":94,"column":0,"index":2245}}],"key":"4pxOr+e+5cSZAdeEKxSt3F7LoKY="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":94,"column":0,"index":2245}}],"key":"rcd0dMwf8BS2g+8U1wyhIOxtYEo="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":94,"column":0,"index":2245}}],"key":"EDnOjopp9yNVawSzfBRsy2dq5dM="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":9,"column":16,"index":235},"end":{"line":30,"column":3,"index":955}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"./utils.js","data":{"asyncType":null,"locs":[{"start":{"line":15,"column":11,"index":444},"end":{"line":15,"column":25,"index":458}}],"key":"03VO7/E+L2S6CYQuFHTg8eKUrwk="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":94,"column":0,"index":2245}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./subscribable.js","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":27,"index":191},"end":{"line":8,"column":52,"index":216}}],"key":"avEzOCPLnxe7XbJG88h2bQqtyvQ="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/possibleConstructorReturn\")(this, result); }; }\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var FocusManager = function (_subscribable$Subscri) {\n    _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/inherits\")(FocusManager, _subscribable$Subscri);\n    var _super = _createSuper(FocusManager);\n    function FocusManager() {\n      var _this;\n      _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\")(this, FocusManager);\n      _this = _super.call(this);\n      _this.setup = function (onFocus) {\n        if (!_$$_REQUIRE(_dependencyMap[4], \"./utils.js\").isServer && window.addEventListener) {\n          var listener = function listener() {\n            return onFocus();\n          };\n          window.addEventListener('visibilitychange', listener, false);\n          window.addEventListener('focus', listener, false);\n          return function () {\n            window.removeEventListener('visibilitychange', listener);\n            window.removeEventListener('focus', listener);\n          };\n        }\n        return;\n      };\n      return _this;\n    }\n    _$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/createClass\")(FocusManager, [{\n      key: \"onSubscribe\",\n      value: function onSubscribe() {\n        if (!this.cleanup) {\n          this.setEventListener(this.setup);\n        }\n      }\n    }, {\n      key: \"onUnsubscribe\",\n      value: function onUnsubscribe() {\n        if (!this.hasListeners()) {\n          var _this$cleanup;\n          (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n          this.cleanup = undefined;\n        }\n      }\n    }, {\n      key: \"setEventListener\",\n      value: function setEventListener(setup) {\n        var _this2 = this;\n        var _this$cleanup2;\n        this.setup = setup;\n        (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n        this.cleanup = setup(function (focused) {\n          if (typeof focused === 'boolean') {\n            _this2.setFocused(focused);\n          } else {\n            _this2.onFocus();\n          }\n        });\n      }\n    }, {\n      key: \"setFocused\",\n      value: function setFocused(focused) {\n        this.focused = focused;\n        if (focused) {\n          this.onFocus();\n        }\n      }\n    }, {\n      key: \"onFocus\",\n      value: function onFocus() {\n        this.listeners.forEach(function (listener) {\n          listener();\n        });\n      }\n    }, {\n      key: \"isFocused\",\n      value: function isFocused() {\n        if (typeof this.focused === 'boolean') {\n          return this.focused;\n        }\n        if (typeof document === 'undefined') {\n          return true;\n        }\n        return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n      }\n    }]);\n    return FocusManager;\n  }(_$$_REQUIRE(_dependencyMap[6], \"./subscribable.js\").Subscribable);\n  var focusManager = new FocusManager();\n  exports.FocusManager = FocusManager;\n  exports.focusManager = focusManager;\n});","lineCount":95,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[5,2,1,13],[6,2,3,0,"Object"],[6,8,3,6],[6,9,3,7,"defineProperty"],[6,23,3,21],[6,24,3,22,"exports"],[6,31,3,29],[6,33,3,31],[6,45,3,43],[6,47,3,45],[7,4,3,47,"value"],[7,9,3,52],[7,11,3,54],[8,2,3,59],[8,3,3,60],[8,4,3,61],[9,2,3,62],[9,6,8,6,"FocusManager"],[9,18,8,18],[10,4,8,18],[11,4,8,18],[12,4,9,2],[12,28,9,16],[13,6,9,16],[14,6,9,16],[15,6,10,4],[16,6,12,4],[16,12,12,9,"setup"],[16,17,12,14],[16,20,12,17],[16,30,12,17,"onFocus"],[16,37,12,24],[16,39,12,28],[17,8,15,6],[17,12,15,10],[17,13,15,11],[17,58,15,17,"isServer"],[17,66,15,25],[17,70,15,29,"window"],[17,76,15,35],[17,77,15,36,"addEventListener"],[17,93,15,52],[17,95,15,54],[18,10,16,8],[18,14,16,14,"listener"],[18,22,16,22],[18,25,16,25],[18,34,16,14,"listener"],[18,42,16,22],[19,12,16,22],[19,19,16,31,"onFocus"],[19,26,16,38],[19,28,16,40],[20,10,16,40],[21,10,19,8,"window"],[21,16,19,14],[21,17,19,15,"addEventListener"],[21,33,19,31],[21,34,19,32],[21,52,19,50],[21,54,19,52,"listener"],[21,62,19,60],[21,64,19,62],[21,69,19,67],[21,70,19,68],[22,10,20,8,"window"],[22,16,20,14],[22,17,20,15,"addEventListener"],[22,33,20,31],[22,34,20,32],[22,41,20,39],[22,43,20,41,"listener"],[22,51,20,49],[22,53,20,51],[22,58,20,56],[22,59,20,57],[23,10,21,8],[23,17,21,15],[23,29,21,21],[24,12,23,10,"window"],[24,18,23,16],[24,19,23,17,"removeEventListener"],[24,38,23,36],[24,39,23,37],[24,57,23,55],[24,59,23,57,"listener"],[24,67,23,65],[24,68,23,66],[25,12,24,10,"window"],[25,18,24,16],[25,19,24,17,"removeEventListener"],[25,38,24,36],[25,39,24,37],[25,46,24,44],[25,48,24,46,"listener"],[25,56,24,54],[25,57,24,55],[26,10,25,8],[26,11,25,9],[27,8,26,6],[28,8,28,6],[29,6,29,4],[29,7,29,5],[30,6,29,6],[31,4,30,2],[32,4,30,3],[33,6,30,3],[34,6,30,3],[34,13,32,2],[34,36,32,16],[35,8,33,4],[35,12,33,8],[35,13,33,9],[35,17,33,13],[35,18,33,14,"cleanup"],[35,25,33,21],[35,27,33,23],[36,10,34,6],[36,14,34,10],[36,15,34,11,"setEventListener"],[36,31,34,27],[36,32,34,28],[36,36,34,32],[36,37,34,33,"setup"],[36,42,34,38],[36,43,34,39],[37,8,35,4],[38,6,36,2],[39,4,36,3],[40,6,36,3],[41,6,36,3],[41,13,38,2],[41,38,38,18],[42,8,39,4],[42,12,39,8],[42,13,39,9],[42,17,39,13],[42,18,39,14,"hasListeners"],[42,30,39,26],[42,32,39,28],[42,34,39,30],[43,10,40,6],[43,14,40,10,"_this$cleanup"],[43,27,40,23],[44,10,42,6],[44,11,42,7,"_this$cleanup"],[44,24,42,20],[44,27,42,23],[44,31,42,27],[44,32,42,28,"cleanup"],[44,39,42,35],[44,44,42,40],[44,48,42,44],[44,51,42,47],[44,56,42,52],[44,57,42,53],[44,60,42,56,"_this$cleanup"],[44,73,42,69],[44,74,42,70,"call"],[44,78,42,74],[44,79,42,75],[44,83,42,79],[44,84,42,80],[45,10,43,6],[45,14,43,10],[45,15,43,11,"cleanup"],[45,22,43,18],[45,25,43,21,"undefined"],[45,34,43,30],[46,8,44,4],[47,6,45,2],[48,4,45,3],[49,6,45,3],[50,6,45,3],[50,13,47,2],[50,39,47,19,"setup"],[50,44,47,24],[50,46,47,26],[51,8,47,26],[52,8,48,4],[52,12,48,8,"_this$cleanup2"],[52,26,48,22],[53,8,50,4],[53,12,50,8],[53,13,50,9,"setup"],[53,18,50,14],[53,21,50,17,"setup"],[53,26,50,22],[54,8,51,4],[54,9,51,5,"_this$cleanup2"],[54,23,51,19],[54,26,51,22],[54,30,51,26],[54,31,51,27,"cleanup"],[54,38,51,34],[54,43,51,39],[54,47,51,43],[54,50,51,46],[54,55,51,51],[54,56,51,52],[54,59,51,55,"_this$cleanup2"],[54,73,51,69],[54,74,51,70,"call"],[54,78,51,74],[54,79,51,75],[54,83,51,79],[54,84,51,80],[55,8,52,4],[55,12,52,8],[55,13,52,9,"cleanup"],[55,20,52,16],[55,23,52,19,"setup"],[55,28,52,24],[55,29,52,25],[55,39,52,25,"focused"],[55,46,52,32],[55,48,52,36],[56,10,53,6],[56,14,53,10],[56,21,53,17,"focused"],[56,28,53,24],[56,33,53,29],[56,42,53,38],[56,44,53,40],[57,12,54,8],[57,18,54,12],[57,19,54,13,"setFocused"],[57,29,54,23],[57,30,54,24,"focused"],[57,37,54,31],[57,38,54,32],[58,10,55,6],[58,11,55,7],[58,17,55,13],[59,12,56,8],[59,18,56,12],[59,19,56,13,"onFocus"],[59,26,56,20],[59,28,56,22],[60,10,57,6],[61,8,58,4],[61,9,58,5],[61,10,58,6],[62,6,59,2],[63,4,59,3],[64,6,59,3],[65,6,59,3],[65,13,61,2],[65,33,61,13,"focused"],[65,40,61,20],[65,42,61,22],[66,8,62,4],[66,12,62,8],[66,13,62,9,"focused"],[66,20,62,16],[66,23,62,19,"focused"],[66,30,62,26],[67,8,64,4],[67,12,64,8,"focused"],[67,19,64,15],[67,21,64,17],[68,10,65,6],[68,14,65,10],[68,15,65,11,"onFocus"],[68,22,65,18],[68,24,65,20],[69,8,66,4],[70,6,67,2],[71,4,67,3],[72,6,67,3],[73,6,67,3],[73,13,69,2],[73,32,69,12],[74,8,70,4],[74,12,70,8],[74,13,70,9,"listeners"],[74,22,70,18],[74,23,70,19,"forEach"],[74,30,70,26],[74,31,70,27],[74,41,70,27,"listener"],[74,49,70,35],[74,51,70,39],[75,10,71,6,"listener"],[75,18,71,14],[75,20,71,16],[76,8,72,4],[76,9,72,5],[76,10,72,6],[77,6,73,2],[78,4,73,3],[79,6,73,3],[80,6,73,3],[80,13,75,2],[80,34,75,14],[81,8,76,4],[81,12,76,8],[81,19,76,15],[81,23,76,19],[81,24,76,20,"focused"],[81,31,76,27],[81,36,76,32],[81,45,76,41],[81,47,76,43],[82,10,77,6],[82,17,77,13],[82,21,77,17],[82,22,77,18,"focused"],[82,29,77,25],[83,8,78,4],[84,8,81,4],[84,12,81,8],[84,19,81,15,"document"],[84,27,81,23],[84,32,81,28],[84,43,81,39],[84,45,81,41],[85,10,82,6],[85,17,82,13],[85,21,82,17],[86,8,83,4],[87,8,85,4],[87,15,85,11],[87,16,85,12,"undefined"],[87,25,85,21],[87,27,85,23],[87,36,85,32],[87,38,85,34],[87,49,85,45],[87,50,85,46],[87,51,85,47,"includes"],[87,59,85,55],[87,60,85,56,"document"],[87,68,85,64],[87,69,85,65,"visibilityState"],[87,84,85,80],[87,85,85,81],[88,6,86,2],[89,4,86,3],[90,4,86,3],[91,2,86,3],[91,4,8,27],[91,56,8,40,"Subscribable"],[91,68,8,52],[92,2,89,0],[92,6,89,6,"focusManager"],[92,18,89,18],[92,21,89,21],[92,25,89,25,"FocusManager"],[92,37,89,37],[92,39,89,39],[93,2,91,0,"exports"],[93,9,91,7],[93,10,91,8,"FocusManager"],[93,22,91,20],[93,25,91,23,"FocusManager"],[93,37,91,35],[94,2,92,0,"exports"],[94,9,92,7],[94,10,92,8,"focusManager"],[94,22,92,20],[94,25,92,23,"focusManager"],[94,37,92,35],[95,0,92,36]],"functionMap":{"names":["<global>","FocusManager","FocusManager#constructor","setup","listener","<anonymous>","FocusManager#onSubscribe","FocusManager#onUnsubscribe","FocusManager#setEventListener","setup$argument_0","FocusManager#setFocused","FocusManager#onFocus","listeners.forEach$argument_0","FocusManager#isFocused"],"mappings":"AAA;ACO;ECC;iBCG;yBCI,eD;eEK;SFI;KDI;GDC;EKE;GLI;EME;GNO;EOE;yBCK;KDM;GPC;ESE;GTM;EUE;2BCC;KDE;GVC;EYE;GZW;CDE"}},"type":"js/module"}]}